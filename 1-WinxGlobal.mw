<?xml version="1.0" encoding="UTF-8"?>
<Worksheet>
<Version major="2019" minor="2"/>
<Label-Scheme value="2" prefix=""/>
<View-Properties presentation="true" autoexpanding_sections="true" UserProfileName="Maple Default Profile" NumericFormat-ApplyInteger="true" NumericFormat-ApplyRational="true" NumericFormat-ApplyExponent="false" editable="true">
</View-Properties>
<MapleNet-Properties prettyprint="3" warnlevel="3" compactdisplay="false" preplot="" helpbrowser="standard" displayprecision="-1" echo="1" unitattributes="&quot;fontweight&quot; = &quot;bold&quot;" imaginaryunit="I" longdelim="true" elisiontermsthreshold="10000" elisiondigitsafter="100" elisiondigitsbefore="100" plotdevice="inline" errorbreak="1" plotoptions="" plotdriver="opengl" quiet="false" elisiontermsbefore="100" elisiontermsafter="100" historytimestamp="false" screenwidth="79" indentamount="4" plotoutput="terminal" screenpixelheight="1080" rtablesize="30" useclientjvm="true" labelwidth="20" postplot="" typesetting="extended" ansi="false" ansicolor="[]" elisiondigitsthreshold="10000" showassumed="1" ansilprint="false" trailingsemicolon="true" errorcursor="false" labelling="true" screenheight="25" prompt="&gt; " verboseproc="1" latexwidth="8.0" ShowLabels="true"/>
<Styles>
<Font name="Heading 1" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="18" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Warning" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="2D Output" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Heading 4" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="true" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Line Printed Output" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Heading 2" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="16" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Maple Output" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="2D Inert Output" background="[255,255,255]" bold="false" executable="true" family="Times New Roman" foreground="[144,144,144]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Heading 3" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="true" opaque="false" readonly="false" size="14" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Diagnostic" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[40,120,40]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 1" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Maple Input" background="[255,255,255]" bold="true" executable="true" family="Courier New" foreground="[120,0,14]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Text Output" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 2" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 3" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 4" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 5" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Annotation Title" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="18" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Header and Footer" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="10" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="HyperlinkError" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[255,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="true" placeholder="false"/>
<Font name="Atomic Variable" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[175,0,175]" italic="true" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="HyperlinkWarning" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="true" placeholder="false"/>
<Font name="Dictionary Hyperlink" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[147,0,15]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="true" placeholder="false"/>
<Font name="2D Math" background="[255,255,255]" bold="false" executable="true" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Bullet Item" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Maple Plot" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Annotation Text" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="List Item" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Dash Item" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="2D Input" background="[255,255,255]" bold="false" executable="true" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Error" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[255,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Title" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="18" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Text" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Normal" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Caption Reference" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Code" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[255,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Maple Input Placeholder" background="[255,255,255]" bold="true" executable="true" family="Courier New" foreground="[200,0,200]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="true"/>
<Font name="Equation Label" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Author" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Hyperlink" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,128,128]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="true" placeholder="false"/>
<Font name="Caption Text" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Layout name="Heading 1" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="8" spacebelow="4" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Warning" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Heading 4" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Line Printed Output" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="any" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Heading 2" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="8" spacebelow="2" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Maple Output" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.3" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Heading 3" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Diagnostic" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="any" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Ordered List 1" alignment="left" bullet="numeric" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix="."/>
<Layout name="Text Output" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="newline" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Ordered List 2" alignment="left" bullet="alphabetic" firstindent="0" leftmargin="36" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix="."/>
<Layout name="Ordered List 3" alignment="left" bullet="roman" firstindent="0" leftmargin="72" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix="."/>
<Layout name="Ordered List 4" alignment="left" bullet="ALPHABETIC" firstindent="0" leftmargin="108" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix="."/>
<Layout name="Ordered List 5" alignment="left" bullet="ROMAN" firstindent="0" leftmargin="144" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix="."/>
<Layout name="Annotation Title" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="12" spacebelow="12" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="HyperlinkError" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="HyperlinkWarning" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Bullet Item" alignment="left" bullet="dot" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Maple Plot" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="List Item" alignment="left" bullet="indent" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Dash Item" alignment="left" bullet="dash" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Error" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Title" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="12" spacebelow="12" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Normal" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Author" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="8" spacebelow="8" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Pencil-style name="Pencil 1" pen-color="[0,0,0]" pen-height="1.0" pen-width="1.0" pen-opacity="1.0"/>
<Pencil-style name="Pencil 2" pen-color="[0,0,255]" pen-height="1.0" pen-width="1.0" pen-opacity="1.0"/>
<Pencil-style name="Pencil 3" pen-color="[0,0,0]" pen-height="3.0" pen-width="3.0" pen-opacity="1.0"/>
<Pencil-style name="Pencil 4" pen-color="[0,0,255]" pen-height="3.0" pen-width="3.0" pen-opacity="1.0"/>
<Pencil-style name="Pencil 5" pen-color="[255,0,0]" pen-height="5.0" pen-width="5.0" pen-opacity="1.0"/>
<Highlighter-style name="Highlighter 5" pen-color="[255,255,0]" pen-height="48.0" pen-width="48.0" pen-opacity="0.8"/>
<Highlighter-style name="Highlighter 3" pen-color="[51,255,0]" pen-height="24.0" pen-width="24.0" pen-opacity="0.8"/>
<Highlighter-style name="Highlighter 4" pen-color="[0,255,255]" pen-height="32.0" pen-width="32.0" pen-opacity="0.8"/>
<Highlighter-style name="Highlighter 1" pen-color="[255,153,255]" pen-height="12.0" pen-width="8.0" pen-opacity="0.8"/>
<Highlighter-style name="Highlighter 2" pen-color="[255,204,0]" pen-height="14.0" pen-width="14.0" pen-opacity="0.8"/>
</Styles>
<Startup-Code startupcode=""/>
<Task-table>
    <Task-category name="&lt;default&gt;"/>
</Task-table>
<Task/><Presentation-Block>
<Group view="presentation" inline-output="false" labelreference="L11866" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Equation executable="true" style="2D Math" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2I1EhRicvJStleGVjdXRhYmxlR1EmZmFsc2VGJy8lLG1hdGh2YXJpYW50R1Enbm9ybWFsRic=">JSFH</Equation></Text-field>
</Input>
</Group></Presentation-Block><Table visible="true" editable="true" exterior="bottom" pagebreak="cell" showlabel="false" title="" plotalignlists="" hiddenborderdisplay="worksheet" interior="none" postexecute="advance" drawcaption="false" drawtitle="false" width="100.0%" captionalignment="0" showinput="false" captionposition="1" id="Table0" alignment="left" randomized="false" labelreference="L11881" showgroup="false" order="row"><Table-Column weight="4" separator="true"></Table-Column><Table-Column weight="196" separator="true"></Table-Column><Table-Row align="top" separator="true"><Table-Cell padding="5" visible="true" fillcolor="[255,255,255]" rowspan="1" backgroundstyle="0" columnspan="1"><Text-field style="Text" layout="Normal"></Text-field></Table-Cell><Table-Cell padding="5" visible="true" fillcolor="[255,255,255]" rowspan="1" backgroundstyle="0" columnspan="1">
<Group labelreference="L11879" drawlabel="true">
<Input><Text-field style="Annotation Title" layout="Annotation Title">MSc Modelling and Simulation of  Mechatronics Systems</Text-field>
</Input>
<Input><Text-field style="Title" layout="Title">EXTREME SWING
STUDY AND DESIGN AN AMUSEMENT RIDE:
Winx Mechanism</Text-field>
</Input>
</Group><Text-field style="Author" layout="Author">release 1.0 - date: 09/05/2020</Text-field>
<Group labelreference="L11913" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L11911" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group></Table-Cell></Table-Row></Table>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1">Global formulation</Text-field></Title>
<Group labelreference="L11885" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input>
</Input>
</Group>
<Group hide-output="false" labelreference="L11874" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">restart:
with(plots):
with(MBSymba_r6):with(LinearAlgebra):</Text-field>
</Input>
</Group>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">Kinematics</Text-field></Title>
<Group labelreference="L11857" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input>
</Input>
</Group>
<Group labelreference="L11871" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input>
</Input>
</Group>
<Group labelreference="L11924" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input>
</Input>
</Group>
<Group labelreference="L11937" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[192,192,192]" layout="Normal"><Font foreground="[192,192,192]">Base definition (Terra) [Inutile avendo unito Base con Terra]</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11936" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[192,192,192]" layout="Normal"><Font foreground="[192,192,192]">RF0  := ground:
P1_0 := origin(RF0):
</Font><Font style="Text">Unit Vectors:</Font><Font foreground="[192,192,192]">
i0   := uvec_X(RF0):
j0   := uvec_Y(RF0):
k0   := uvec_Z(RF0):</Font></Text-field>
</Input>
</Group>
<Group labelreference="L11865" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Body 1 with origin of reference frame in P1 (Base)</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11854" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF1:= rotate('Z',theta1(t));
P1 := origin(RF1):
<Font style="Text">Parameters:
</Font>q1 := [theta1(t)]:
<Font style="Text">Unit Vectors:</Font>
i1   := uvec_X(RF1):
j1   := uvec_Y(RF1):
k1   := uvec_Z(RF1):
<Font style="Text">Auxiliary Reference Frame for Body 2</Font>
RF2_1 := RF1.translate(0,0,L1):
P2_1  := origin(RF2_1):
<Font style="Text">Auxiliary Reference Frame for Body 4</Font>
RF4_1 := RF1.translate(0,0,L2):
P4_1  := origin(RF4_1):
</Text-field>
</Input>
</Group>
<Group labelreference="L11957" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Body 2 with origin of reference frame in P2 (Female)</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11958" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF2 := RF1.translate(x2(t),0,z2(t)).rotate('Y',theta2(t));
P2  := origin(RF2):
<Font style="Text">Parameters:
</Font>q2 := [x2(t),z2(t),theta2(t)]:
<Font style="Text">Unit Vectors:</Font>
i2 := uvec_X(RF2):
j2 := uvec_Y(RF2):
k2 := uvec_Z(RF2):
<Font style="Text">Auxiliary Reference Frame for Prismatic</Font>
RFp_2 := RF2.translate(L3,0,0):
Pp_2  := origin(RFp_2):
</Text-field>
</Input>
</Group>
<Group labelreference="L11959" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Body 3 with origin of reference frame in P3 (Male)</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11960" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF3 := RF1.translate(x3(t),0,z3(t)).rotate('Y',theta3(t));
P3  := origin(RF3):
<Font style="Text">Parameters:
</Font>q3 := [x3(t),z3(t),theta3(t)]:
<Font style="Text">Unit Vectors:</Font>
i3 := uvec_X(RF3):
j3 := uvec_Y(RF3):
k3 := uvec_Z(RF3):
<Font style="Text">Auxiliary Reference Frame for Prismatic</Font>
RFp_3 := RF3.translate(-L4,0,0):
Pp_3  := origin(RFp_3):
</Text-field>
</Input>
</Group>
<Group labelreference="L11907" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Body 4 with origin of reference frame in P4 (Arm)</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11910" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF4 := RF1.translate(x4(t),0,z4(t)).rotate('Y',theta4(t));
P4  := origin(RF4):
<Font style="Text">Parameters:
</Font>q4 := [x4(t),z4(t),theta4(t)]:
<Font style="Text">Unit Vectors:</Font>
i4 := uvec_X(RF4):
j4 := uvec_Y(RF4):
k4 := uvec_Z(RF4):
<Font style="Text">Auxiliary Reference Frame for Body 3</Font>
RF3_4  := RF4.translate(L5,0,0):
P3_4   := origin(RF3_4):
<Font style="Text">Auxiliary Reference Frame for Body <Font encoding="UTF-8">5 --phi1 adesso \303\250 positivo</Font>--</Font>
RF5_4  := RF4.translate(L5+L6*cos(-phi1),0,L6*sin(-phi1)):
P5_4   := origin(RF5_4):</Text-field>
</Input>
</Group>
<Group labelreference="L11930" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Body 5 with origin of reference frame in P5 (Carousel)</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11929" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF5 := RF1.translate(x5(t),0,z5(t)).rotate('Y',theta4__5(t)).rotate('Z',theta5(t));
P5  := origin(RF5):
<Font style="Text">Parameters:
</Font>q5 := [x5(t),z5(t),theta4__5(t),theta5(t)]:
<Font style="Text">Unit Vectors:</Font>
i5 := uvec_X(RF5):
j5 := uvec_Y(RF5):
k5 := uvec_Z(RF5):

<Font style="Text">Auxiliary Reference Frame for Body 5</Font>
RF6_5 := RF5.translate(L7+L8*cos(phi2),L8*sin(phi2),0).rotate('Z', phi2):
P6_5  := origin(RF6_5):
<Font style="Text">Unit Vectors of auxiliary:</Font>
i6_5 := uvec_X(RF6_5):
j6_5 := uvec_Y(RF6_5):
k6_5 := uvec_Z(RF6_5):</Text-field>
</Input>
</Group>
<Group labelreference="L11932" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Body 6 with origin of reference frame in P6 (Seat)</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11933" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF6 := RF1.translate(x6(t),y6(t),z6(t)).rotate('Y',theta6__z(t)).rotate('Z', theta6__x(t)).rotate('Y',theta6__y(t));
P6  := origin(RF6):
<Font style="Text">Parameters:
</Font>q6 := [x6(t),y6(t),z6(t),theta6__x(t),theta6__y(t),theta6__z(t)];
<Font style="Text">Unit Vectors:</Font>
i6 := uvec_X(RF6):
j6 := uvec_Y(RF6):
k6 := uvec_Z(RF6):
<Font style="Text">Auxiliary Reference Frame for Seat</Font>
RFSeat := RF6.translate(L10,0,-L9):
SSeat  := origin(RFSeat):</Text-field>
</Input>
</Group>
<Group labelreference="L11844" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 2" layout="Heading 2">Constraint equations</Text-field>
</Input>
</Group>
<Group labelreference="L11909" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" foreground="[153,153,153]" layout="Heading 3"><Font foreground="[153,153,153]">Revolute joint in P1 <Font italic="false">[inutile visto che Base e Terra sono unite]</Font></Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11902" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Some of the constraint equations are already satisfied</Font></Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">join_points(P1_0,P1):
[comp_XYZ(%,RF0)]: &lt;%&gt;;</Font></Text-field>
</Input>
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Parallelism of j1 and j2 --&gt; via Orthogonality of unit vectors</Font></Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font foreground="[153,153,153]">dot_prod(i1,k0);
dot_prod(j1,k0);</Font>
</Text-field>
</Input>
</Group>
<Group labelreference="L11903" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" layout="Heading 3">Revolute joint in P2 <Font italic="false">[Base to Female]</Font></Text-field>
</Input>
</Group>
<Group labelreference="L11889" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Some of the constraint equations are already satisfied</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11892" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">join_points(P2, P2_1):
[comp_XYZ(%,RF1)]: &lt;%&gt;;
Phi2 := [%[1], %[3]];</Text-field>
</Input>
<Input><Text-field style="Text" layout="Normal">Parallelism of j1 and j2 --&gt; via Orthogonality of unit unit vectors</Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dot_prod(j1, i2);
dot_prod(j1, k2);</Text-field>
</Input>
</Group>
<Group labelreference="L11963" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" layout="Heading 3">Revolute joint in P3 <Font italic="false">[Male to Arm]</Font></Text-field>
</Input>
</Group>
<Group labelreference="L11965" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Some of the constraint equations are already satisfied</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11964" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">join_points(P3, P3_4):
[comp_XYZ(%,RF1)]: &lt;%&gt;;
Phi3 := [%[1], %[3]];</Text-field>
</Input>
<Input><Text-field style="Text" layout="Normal">Parallelism of j3 and j4 --&gt; via Orthogonality of unit unit vectors</Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dot_prod(j3, i4);
dot_prod(j3, k4);</Text-field>
</Input>
</Group>
<Group labelreference="L11887" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" layout="Heading 3">Revolute joint in P4 <Font italic="false">[Base to Arm]</Font></Text-field>
</Input>
</Group>
<Group labelreference="L11895" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Some of the constraint equations are already satisfied</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11894" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">join_points(P4, P4_1):
[comp_XYZ(%,RF1)]: &lt;%&gt;;
Phi4 := [%[1], %[3]];</Text-field>
</Input>
<Input><Text-field style="Text" layout="Normal">Parallelism of j1 and j4 --&gt; via Orthogonality of unit unit vectors</Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dot_prod(j1, i4);
dot_prod(j1, k4);</Text-field>
</Input>
</Group>
<Group labelreference="L11941" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" layout="Heading 3">Revolute joint in P5 <Font italic="false">[Arm to Carousel]</Font></Text-field>
</Input>
</Group>
<Group labelreference="L11943" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Some of the constraint equations are already satisfied</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11942" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">join_points(P5, P5_4):
[comp_XYZ(%,RF1)]: &lt;%&gt;;
Phi5 := [%[1], %[3]];</Text-field>
</Input>
<Input><Text-field style="Text" layout="Normal">Parallelism of k4 and k5 --&gt; via Orthogonality of unit unit vectors</Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#combine(simplify(dot_prod(k4, i5)));#Strano ma funziona
#combine(simplify(dot_prod(k4, j5)));#Strano ma funziona
combine(simplify(dot_prod(i4, k5)));
combine(simplify(dot_prod(j4, k5)));</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11966" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Phi5 := Phi5 union [%%]:</Text-field>
</Input>
</Group>
<Group labelreference="L11946" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" layout="Heading 3">Revolute joint in P6 <Font italic="false">[Carousel to Seat]</Font></Text-field>
</Input>
</Group>
<Group labelreference="L11947" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Some of the constraint equations are already satisfied</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11945" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">join_points(P6,P6_5):
[comp_XYZ(%,RF1)]: &lt;%&gt;;
Phi6 := [%[1], %[2], %[3]];</Text-field>
</Input>
<Input><Text-field style="Text" layout="Normal">Parallelism of j5 and j6 --&gt; via Orthogonality of unit unit vectors</Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">simplify(dot_prod(i6_5,j6),trig);
simplify(dot_prod(k6_5,j6),trig);</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11967" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Phi6:= Phi6 union [%, %%] :</Text-field>
</Input>
</Group>
<Group labelreference="L11952" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" layout="Heading 3">Prismatic joint in Pp <Font italic="false">[Female to Male]</Font></Text-field>
</Input>
</Group>
<Group labelreference="L11953" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Some of the constraint equations are already satisfied</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11954" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">V23 := join_points(Pp_2,Pp_3):
eq_s := simplify(dot_prod(V23,i2))-s(t);
#eval(solve(subs({theta3(t)=-Pi/4, theta2(t)=-Pi/4, x2(t)= 0,z2(t)= 1, x3(t)= 1,z3(t)=2, L4=0, L3=0, s(t)=s}, eq_s))); # s
simplify(dot_prod(V23,j2));
PhiPa := simplify(dot_prod(V23,k2));
</Text-field>
</Input>
</Group>
<Group labelreference="L11873" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">The sliding axis is i2 parallel to i3 --&gt; orthogonality between j2 and k2 to i3 (First Condition)</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11875" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dot_prod(j2,i3);
PhiPb := combine(simplify(dot_prod(k2,i3),trig));</Text-field>
</Input>
</Group>
<Group labelreference="L11882" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 2" layout="Heading 2">Full set of constraint equations</Text-field>
</Input>
</Group>
<Group labelreference="L11877" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Assemble constraint equations</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L36811" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">interface(rtablesize = 30)</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11876" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Phi := Phi2 union Phi3 union Phi4 union Phi5 union [PhiPa,PhiPb] union [eq_s] union Phi6: &lt;%&gt;;</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11880" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">q_vars := q1 union q2 union q3 union q4 union q5 union q6 union [s(t)];
qi_vars:=[s(t), theta1(t), theta5(t), theta6__y(t)];
qd_vars := convert(q_vars, set) minus convert(qi_vars, set); 
nq := nops(q_vars);
nc := nops(Phi);
nq-nc=nops(qi_vars);</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L36795" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" layout="Heading 3">Equations to move from symbol to time dependance and viceversa</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L36815" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">q_vars_to_symbol := {seq(q_vars[i] = op(0, q_vars[i]), i = 1 .. nops(q_vars))}:</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11868" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">q_vars_to_function := {seq(op(0,lhs(q_vars_to_symbol[i])) =  lhs(q_vars_to_symbol[i]), i = 1 .. nops(q_vars_to_symbol))}:</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L36799" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group><Presentation-Block>
<Group view="code" labelreference="L11969" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[255,0,0]" layout="Normal"><Font foreground="[255,0,0]">REMARK</Font></Text-field>
</Input>
</Group>
<Group view="code" labelreference="L11970" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[255,0,0]" layout="Normal"><Font foreground="[255,0,0]">Some constraint equations are linear therefore they can be easily solved to reduce the number of coordinates and constraints.</Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L36813" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">kin_s := solve(Phi[1..8], {x2(t), z2(t), x3(t), z3(t), x4(t), z4(t), x5(t), z5(t)}): &lt;%&gt;;</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L11971" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Phi_simplified_tmp:=simplify(subs(kin_s, Phi)):
Phi_s:=Phi_simplified_tmp[9..-1]:</Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" spaceabove="0" linebreak="space" rightmargin="0" linespacing="0.0" initial="0" firstindent="0" leftmargin="0" bulletsuffix="" alignment="left" bullet="none" spacebelow="0" pagebreak-before="false">q_vars_s:=convert(q_vars,set) minus {x2(t), z2(t), x3(t), z3(t), x4(t), z4(t), x5(t), z5(t)}:
qd_vars_s:=convert(qd_vars,set) minus {x2(t), z2(t), x3(t), z3(t), x4(t), z4(t), x5(t), z5(t)}:</Text-field><Text-field prompt="&gt; " style="Maple Input" spaceabove="0" linebreak="space" rightmargin="0" linespacing="0.0" initial="0" firstindent="0" leftmargin="0" bulletsuffix="" alignment="left" bullet="none" spacebelow="0" pagebreak-before="false">nq := nops(q_vars_s);
nc := nops(Phi_s);
nq-nc=nops(qi_vars);</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L36790" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Problem Data</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L36800" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">data := {L1 = 195, L2 = 266, L3 = 130, L4 = 59.3, L5 = 175, L6 = 207, L7 = 64.9, L8 = 64.9, L9 = 120, L10=40, phi1 = Pi/5, phi2 = Pi/4};#L8 era 10</Text-field>
</Input>
</Group></Presentation-Block>
</Section>
</Section><Presentation-Block>
<Group view="code" labelreference="L36828" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 2" layout="Heading 2">Plot function</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" hide-input="false" labelreference="L36829" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">cc := ColorTools:-GetPalette(&quot;spring&quot;):
plots[setcolors](&quot;spring&quot;):</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L36827" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">draw_mech:=proc(sol_kine::{set(`=`)}, data::{set(`=`)}, dof::{set(`=`)},$)<Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYqLUkjbWlHRiQ2I1EhRictSSdtc3BhY2VHRiQ2Ji8lJ2hlaWdodEdRJjAuMGV4RicvJSZ3aWR0aEdRJjAuMGVtRicvJSZkZXB0aEdGNC8lKmxpbmVicmVha0dRKG5ld2xpbmVGJy1JI21vR0YkNi1RIn5GJy8lLG1hdGh2YXJpYW50R1Enbm9ybWFsRicvJSZmZW5jZUdRJmZhbHNlRicvJSpzZXBhcmF0b3JHRkYvJSlzdHJldGNoeUdGRi8lKnN5bW1ldHJpY0dGRi8lKGxhcmdlb3BHRkYvJS5tb3ZhYmxlbGltaXRzR0ZGLyUnYWNjZW50R0ZGLyUnbHNwYWNlR0Y3LyUncnNwYWNlR0Y3Ri8tRjA2JkYyRjVGOC9GO1ElYXV0b0YnRisvJStleGVjdXRhYmxlR0ZGRkE=">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYqLUkjbWlHRiQ2I1EhRictSSdtc3BhY2VHRiQ2Ji8lJ2hlaWdodEdRJjAuMGV4RicvJSZ3aWR0aEdRJjAuMGVtRicvJSZkZXB0aEdGNC8lKmxpbmVicmVha0dRKG5ld2xpbmVGJy1JI21vR0YkNi1RIn5GJy8lLG1hdGh2YXJpYW50R1Enbm9ybWFsRicvJSZmZW5jZUdRJmZhbHNlRicvJSpzZXBhcmF0b3JHRkYvJSlzdHJldGNoeUdGRi8lKnN5bW1ldHJpY0dGRi8lKGxhcmdlb3BHRkYvJS5tb3ZhYmxlbGltaXRzR0ZGLyUnYWNjZW50R0ZGLyUnbHNwYWNlR0Y3LyUncnNwYWNlR0Y3Ri8tRjA2JkYyRjVGOC9GO1ElYXV0b0YnRisvJStleGVjdXRhYmxlR0ZGRkE=</Equation>local p0,p1, p2, p3, p4, p5, p5_a,p6,pp2,pp3,r,lt,p6_a,p6_b,p_seat, p6x,p6y,p6z:
r:=10:lt:=10:
p0:=subs(sol_kine,data,dof,[comp_XYZ(P1,ground)]):
p1:=subs(sol_kine,data,dof,[comp_XYZ(P1,ground)]):
p2:=subs(sol_kine,data,dof,[comp_XYZ(P2,ground)]):
p3:=subs(sol_kine,data,dof,[comp_XYZ(P3,ground)]):
p4:=subs(sol_kine,data,dof,[comp_XYZ(P4,ground)]):
p5:=subs(sol_kine,data,dof,[comp_XYZ(P5,ground)]):
p5_a:=subs(sol_kine,data,dof,[comp_XYZ(P5+make_VECTOR(RF5, L7,0,0),ground)]):
p6:=subs(sol_kine,data,dof,[comp_XYZ(P6,ground)]):
p6_a:=subs(sol_kine,data,dof,[comp_XYZ(P6+make_VECTOR(RF6, 0,0,-L9),ground)]):
p6_b:=subs(sol_kine,data,dof,[comp_XYZ(P6+make_VECTOR(RF6, 0,0,-L9)+make_VECTOR(RF6, L10,0,0),ground)]):
#p_seat:=subs(sol_kine,data,dof,[comp_XYZ(SSeat,ground)]):
pp2:=subs(sol_kine,data,dof,[comp_XYZ(Pp_2,ground)]):
pp3:=subs(sol_kine,data,dof,[comp_XYZ(Pp_3,ground)]):

p6x:=subs(sol_kine,data,dof,[comp_XYZ(P6+make_VECTOR(RF6, 100,0,0),ground)]):
p6y:=subs(sol_kine,data,dof,[comp_XYZ(P6+make_VECTOR(RF6, 0,100,0),ground)]):
p6z:=subs(sol_kine,data,dof,[comp_XYZ(P6+make_VECTOR(RF6, 0,0,100),ground)]):

display(plottools:-sphere(p1,r,color=cc[1]),
plottools:-sphere(p2,r,color=cc[1]),
plottools:-sphere(p3,r,color=cc[1]),
plottools:-sphere(p4,r,color=cc[1]),
plottools:-sphere(p5,r,color=cc[1]),
plottools:-sphere(p5_a,r,color=cc[1]),
plottools:-sphere(p6,r,color=cc[1]),
plottools:-sphere(p6_a,r,color=cc[1]),
plottools:-sphere(p6_b,r,color=cc[1]),
plottools:-sphere(pp2,r,color=cc[1]),
plottools:-sphere(pp3,r,color=cc[1]),
#plottools:-sphere(p_seat,20,color=cc[1]),
plottools:-line(p1,p2,color=&quot;Blue&quot;, thickness=lt),
plottools:-line(p2,p4,color=&quot;Blue&quot;, thickness=lt),
plottools:-line(p2,pp2,color=&quot;Green&quot;, thickness=lt),
plottools:-line(p3,pp3,color=&quot;Blue&quot;, thickness=lt),
plottools:-line(p4,p3,color=&quot;Red&quot;, thickness=lt),
plottools:-line(p3,p5,color=&quot;Red&quot;, thickness=lt),
plottools:-line(p5,p5_a,color=&quot;Orange&quot;, thickness=lt),
plottools:-line(p5_a,p6,color=&quot;Yellow&quot;, thickness=lt),
plottools:-line(p6,p6_a,color=&quot;Blue&quot;, thickness=lt),
plottools:-line(p6_a,p6_b,color=&quot;Blue&quot;, thickness=lt),
plots:-arrow(p0,[100,0,0],color=&quot;Red&quot;, shape=arrow),
plots:-arrow(p0,[0,100,0],color=&quot;Green&quot;, shape=arrow),
plots:-arrow(p0,[0,0,100],color=&quot;Black&quot;, shape=arrow),

#plottools:-line(p6,p6x,color=&quot;Red&quot;, thickness=lt),     #x axis of RF6
#plottools:-line(p6,p6y,color=&quot;Green&quot;, thickness=lt),   #y axis of RF6
#plottools:-line(p6,p6z,color=&quot;Black&quot;, thickness=lt),   #z axis of RF6
scaling=constrained,
axes=boxed
):
end:</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L39165" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#plot mechanism for animating

draw_mech_for_animate:=proc(all_sols::list, index, data::{set(`=`)}, dofs::list,$)
local sol_kine, dof:
sol_kine:=subs(q_vars_to_function,all_sols[trunc(index)]):
dof:=subs(q_vars_to_function,dofs[trunc(index)]):
draw_mech(sol_kine,data,dof):
end:</Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" spaceabove="0" linebreak="space" rightmargin="0" linespacing="0.0" initial="0" firstindent="0" leftmargin="0" bulletsuffix="" alignment="left" bullet="none" spacebelow="0" pagebreak-before="false"></Text-field>
</Input>
</Group></Presentation-Block>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1">Initial position problem</Text-field></Title>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">Numerically</Text-field></Title><Presentation-Block>
<Group view="code" hide-input="false" hide-output="false" labelreference="L36774" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#kine_sol_implicit := solve(Phi[1..-2],qd_vars): &lt;%&gt;; nops(%%);
#<Font foreground="[153,153,153]">codegen:-cost(kine_sol_implicit[1][1]):
#all_kine_sol :=solve(Phi,qd_vars,explicit=true): nops(%);
#all_kine_sol;</Font></Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#all_kine_sol := [allvalues(subs(data,op(kine_sol_implicit)))]: nops(%);</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L36786" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#eval(solve(subs(data,s(t)=0.0, theta1(t)=0.0, theta5(t)=0.0, theta6(t)=0.0, all_kine_sol[1]))):
#&lt;%&gt; ;</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L36977" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font encoding="UTF-8">dof := {s = 45, theta1 = 0, theta5 = 0, theta6__y = Pi}: # theta6__y \303\250 di base a Pi</Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L36979" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">sol_kine_all := fsolve(subs(q_vars_to_symbol,data,dof,Phi),subs(q_vars_to_symbol, qd_vars), theta4=-1..0):</Text-field>
</Input>
</Group>
<Group labelreference="L36976" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">draw_mech(subs(q_vars_to_function,sol_kine_all), data, subs(q_vars_to_function,dof))</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" hide-input="false" labelreference="L37019" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dim := 50:
solutions := Array(1..dim,[]):
dofs:= Array(1..dim,[]):</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L38048" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">sols := table([theta2 = Array(1 .. dim, []),
 theta3 = Array(1 .. dim, []),
 theta4 = Array(1 .. dim, []), 
 theta4__5 = Array(1 .. dim, []), 
 theta6__x = Array(1 .. dim, []), 
 theta6__z = Array(1 .. dim, []),
 x2 = Array(1 .. dim, []),
 z2 = Array(1 .. dim, []), 
 x3 = Array(1 .. dim, []), 
 z3 = Array(1 .. dim, []), 
 x4 = Array(1 .. dim, []), 
 z4 = Array(1 .. dim, []),  
 x5 = Array(1 .. dim, []), 
 z5 = Array(1 .. dim, []),  
 x6 = Array(1 .. dim, []), 
 y6 = Array(1 .. dim, []),  
 z6 = Array(1 .. dim, [])]):</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L38225" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dof := {s = 0, theta1 = 0, theta5 = 0, theta6__y =0}:
guess:=fsolve(subs(q_vars_to_symbol,data,dof,Phi),subs(q_vars_to_symbol, qd_vars),
{theta2=-Pi..Pi, theta3=-Pi..Pi, theta4=-Pi..Pi, theta6__x=-Pi..Pi, theta6__z=-Pi..Pi, theta4__5=-Pi/2..Pi/2} ):</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L39689" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Evaluation of point for animation of the system</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L36937" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">for i from 1 to dim do
  dofs[i] := {s = i,theta1 = i*((2*Pi)/dim), theta5 = -i*((2*Pi)/dim)*3, theta6__y =i*((2*Pi)/(dim*2))-Pi}:  ##&lt;--to see all joint moving
  solutions[i] := fsolve(subs(q_vars_to_symbol,data,dofs[i],Phi), guess);
  guess:=solutions[i];
  #tmp:=convert(convert(solutions[3], list), table)
  tmp:=convert(solutions[3], list);
  for j from 1 to 17 do
    sols[lhs(solutions[i][j])][i] := rhs(solutions[i][j]);
  end do:
end do:</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L38052" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[x2], dim), color = cc[1], legend = x2),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[z2], dim), color = cc[2], legend = z2),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[x3], dim), color = cc[3], legend = x3),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[z3], dim), color = cc[4], legend = z3),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[x4], dim), color = cc[5], legend = x4),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[z4], dim), color = cc[6], legend = z4), 
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[x5], dim), color = cc[5], legend = x5),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[z5], dim), color = cc[6], legend = z5),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[x6], dim), color = cc[5], legend = x6),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[y6], dim), color = cc[6], legend = y6),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[z6], dim), color = cc[5], legend = z6),
#<Font encoding="UTF-8">labels = [typeset(theta__1, &quot;[\302\260]&quot;), tau], 
</Font>#legendstyle = [location = top], 
<Font encoding="UTF-8">title = &quot; Position anslysis: position dependent coordinates\134n&quot;)</Font></Text-field>
</Input>
</Group>
<Group view="code" labelreference="L38534" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[theta2], dim), color = cc[1], legend = theta2),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[theta3], dim), color = cc[2], legend = theta3),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[theta4], dim), color = cc[3], legend = theta4),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[theta4__5], dim), color = cc[4], legend = theta4__5),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[theta6__x], dim), color = cc[5], legend = theta6__x),
plot(Vector([seq(s, s = 1 .. dim)], dim), Vector(sols[theta6__z], dim), color = cc[6], legend = theta6__z), 
#<Font encoding="UTF-8">labels = [typeset(theta__1, &quot;[\302\260]&quot;), tau], 
</Font>#legendstyle = [location = top], 
<Font encoding="UTF-8">title = &quot; Position anslysis: angles dependent coordinates\134n&quot;)</Font></Text-field>
</Input>
</Group>
<Group view="code" labelreference="L39166" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#Animation
animate(draw_mech_for_animate, [convert(solutions, list), INDEX, data, convert(dofs, list)], INDEX = 1 .. 50)</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L39117" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 2" layout="Heading 2">Working space</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39124" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dim_of_s:=10:    dim_of_theta1:=10:
solutions_workingspace := Array(1..dim_of_s*dim_of_theta1,[]):
dofs_workingspace:= Array(1..dim_of_s*dim_of_theta1,[]):
x_seat := Array(1 .. dim_of_s*dim_of_theta1, []):
y_seat := Array(1 .. dim_of_s*dim_of_theta1, []):
z_seat := Array(1 .. dim_of_s*dim_of_theta1, []):
i:=1:
sol_tmp:=1:
for si from 1 to dim_of_s do
  for th1i from 1 to dim_of_theta1 do
    #for th5i from Pi to 2 do
    #for th6i from 0 to 2 do

    dofs_workingspace[i] := {s = si*5, theta1 = th1i*(2*Pi/dim_of_theta1), theta5 = 0, theta6__y =-Pi/2}:  ##Maximum extension
    solutions_workingspace[i] := fsolve(subs(q_vars_to_symbol,data,dofs_workingspace[i],Phi),guess);
    guess:=solutions_workingspace[i];        
    sol_tmp:= simplify(subs(q_vars_to_symbol,data, dofs_workingspace[i],solutions_workingspace[i], &lt;comp_XYZ(SSeat, RF0)&gt;));
    x_seat[i]:=sol_tmp[1];
    y_seat[i]:=sol_tmp[2];
    z_seat[i]:=sol_tmp[3];
    i:=i+1;

    #end do:
    #end do:
  end do:
end do:</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39120" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">XXXX := Vector(convert(x_seat, list)):
YYYY := Vector(convert(y_seat, list)):
ZZZZ := Vector(convert(z_seat, list)):</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L39116" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Ptriang := plots:-surfdata( &lt;XXXX|YYYY|ZZZZ&gt;, source=irregular ):

plots:-display( Ptriang,
                plots:-pointplot3d(&lt;XXXX|YYYY|ZZZZ&gt;,symbolsize=20,color=red),
                axes=box );</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39702" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">animate(draw_mech_for_animate, [convert(solutions_workingspace, list), INDEX, data, convert(dofs_workingspace, list)], INDEX = 1 .. dim_of_s*dim_of_theta1, frames = dim_of_s*dim_of_theta1/10)</Text-field>
</Input>
</Group></Presentation-Block>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1">Velocity analysis</Text-field></Title><Presentation-Block>
<Group view="code" labelreference="L39078" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Jacobians:</Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39077" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">JPhiD := jacobianF(Phi,qd_vars): Rank(JPhiD)=nops(qd_vars);
JPhiI := jacobianF(Phi,qi_vars): Rank(JPhiI)=nops(qi_vars);

Tau := -(simplify( -LinearAlgebra:-MatrixInverse(JPhiD).JPhiI, trig)):
Dimension(Tau);</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group labelreference="L39082" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Velocities of dependent coordinates</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L39084" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">qd_vars_dot := Tau.&lt;diff(qi_vars,t)&gt;:</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L39102" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true" foreground="[128,0,0]">Substitution expression</Font> for velocities</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39103" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">subs_qd_vars_vel := [seq( diff(qd_vars[i],t) = qd_vars_dot[i],i=1..nops(qd_vars))]: &lt;%[5]&gt;;
nops(%);
simplify(subs(kin_s,qd_vars_dot)[5])</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L39105" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" layout="Heading 3">Singular configurations</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39106" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">eq_det := simplify(LinearAlgebra:-Determinant(JPhiD));</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L39109" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">We compute analytical singular configurations</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39110" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">SCs := solve([op(Phi),eq_det],q_vars,explicit=true):
nops(%); # 10 Singular Configurations???
nops(%%[1]);
&lt;%%%[1]&gt;:</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L39080" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font size="20" bold="true">Simplified:</Font></Text-field>
</Input>
</Group>
<Group view="code" labelreference="L39107" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font size="14" bold="true">Jacobians</Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39079" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">JPhiD_s := jacobianF(Phi_s,qd_vars_s): Rank(JPhiD_s)=nops(qd_vars_s);
JPhiI_s := jacobianF(Phi_s,qi_vars): Rank(JPhiI_s)=nops(qi_vars);

Tau_s := -(simplify( -LinearAlgebra:-MatrixInverse(JPhiD_s).JPhiI_s, trig)):
Dimension(Tau_s);</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group labelreference="L39089" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Velocities of dependent coordinates</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L39090" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">qd_vars_s_dot := Tau_s.&lt;diff(qi_vars,t)&gt;:</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L39014" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true" foreground="[128,0,0]">Substitution expression</Font> for velocities</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39007" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">subs_qd_vars_s_vel := [seq( diff(qd_vars_s[i],t) = qd_vars_s_dot[i],i=1..nops(qd_vars_s))]: # Add the lhs with the derivatives of qd_vars_s
nops(%);
subs_kin_s_vel := diff(kin_s,t): nops(%); # Differentiate to get velocity of simplified constraints</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L39012" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" layout="Heading 3">Singular configurations simplified</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39013" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">eq_det_s := simplify(LinearAlgebra:-Determinant(JPhiD_s));</Text-field>
</Input>
</Group></Presentation-Block>
<Group labelreference="L39001" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"></Text-field>
</Input>
</Group>
</Section><Presentation-Block>
<Group view="presentation" inline-output="false" labelreference="L39018" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Equation executable="true" style="2D Math" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2I1EhRicvJStleGVjdXRhYmxlR1EmZmFsc2VGJy8lLG1hdGh2YXJpYW50R1Enbm9ybWFsRic=">JSFH</Equation></Text-field>
</Input>
</Group></Presentation-Block>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1">Acceleration analysis</Text-field></Title>
<Group labelreference="L38995" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">To implement</Text-field>
</Input>
</Group>
</Section>
</Section>
</Section>
<Section collapsed="true" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" size="24" layout="Heading 1"><Font size="24">Motion Profiles</Font></Text-field></Title>
<Group labelreference="L46040" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L44885" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">profile_data := { f_0 = 1/(Pi*3000), f_1 = 1/(Pi*6000), T = 60}:</Text-field>
</Input>
</Group>
<Section collapsed="true" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">s(time) profile</Text-field></Title>
<Group hide-input="false" labelreference="L44871" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">s_profile := 0.51 + 0.51 * piecewise(
time&gt;=0 and time&lt;=45, sin(2*Pi*(f_0*time+((f_1-f_0)/2*T)*time^2)),
time&gt;45 and time&lt;=90, sin(2*Pi*(f_0*(90-time)+((f_1-f_0)/2*T)*(90-time)^2)),
time&gt;90 and time&lt;=140, sin(2*Pi*(f_0*(time-90)+((f_1-f_0)/2*T)*(time-90)^2)), 
time&gt;140 and time&lt;=180, sin(2*Pi*(f_0*(180-time)+((f_1-f_0)/2*T)*(180-time)^2))):

SS := [ seq(  evalf( subs(profile_data, eval( s_profile, time = x ))) , x = 0..180)]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;SS&gt; , Timee):
SS_spline := unapply(%,[Timee]):</Text-field>
</Input>
</Group>
<Group labelreference="L44874" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(profile_data, s_profile),time=0..180, color=cc[1],  legend=&quot;exact&quot;),
plot(SS_spline(Timer),Timer=0..180, color=cc[2],  legend=&quot;spline&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44873" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L44865" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dst:= diff(s_profile, time):</Text-field>
</Input>
</Group>
<Group labelreference="L44872" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(profile_data, dst),time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44863" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L44859" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d2st:= diff(dst, time):</Text-field>
</Input>
</Group>
<Group labelreference="L44879" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(profile_data, d2st),time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44851" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L44850" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d3st:= diff(d2st, time):</Text-field>
</Input>
</Group>
<Group labelreference="L44849" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(profile_data, d3st),time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
</Section>
<Section collapsed="true" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">theta1(time) profile</Text-field></Title>
<Group hide-input="false" labelreference="L44864" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">theta1_profile:= piecewise(
time&gt;=0 and time&lt;=85, time^2/45 - trunc(time^2/45 / (2*Pi))*2*Pi,
time&gt;85 and time&lt;=105, -((time - 95)/(4*Pi))^2 + 2*Pi,
time&gt;105 and time&lt;=180, (180-time)^2/36 - trunc((180-time)^2/36 / (2*Pi))*2*Pi):

THETA1 := [ seq(  evalf( subs(profile_data, eval( theta1_profile, time = x ))) , x = 0..180)]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;THETA1&gt; , Timee):
THETA1_spline := unapply(%,[Timee]):</Text-field>
</Input>
</Group>
<Group labelreference="L44877" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#display(
#plot(subs(theta1_profile),time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44858" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L44882" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dtheta1t:= diff(theta1_profile, time):</Text-field>
</Input>
</Group>
<Group labelreference="L44888" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#display(
#plot(dtheta1t,time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44853" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L44876" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d2theta1t:= diff(dtheta1t, time):</Text-field>
</Input>
</Group>
<Group labelreference="L44860" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#display(
#plot(d2theta1t,time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44854" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2I1EhRicvJStleGVjdXRhYmxlR1EmZmFsc2VGJy8lLG1hdGh2YXJpYW50R1Enbm9ybWFsRic=">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2I1EhRic=</Equation></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L44837" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d3theta1t:= diff(d2theta1t, time):</Text-field>
</Input>
</Group>
<Group labelreference="L44835" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#display(
#plot(d3theta1t,time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
</Section>
<Section collapsed="true" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">theta5(time) profile</Text-field></Title>
<Group hide-input="false" labelreference="L44886" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">theta5_profile:= piecewise(
time&gt;=0 and time&lt;=45, time^2/45 - trunc(time^2/45 / (2*Pi))*2*Pi,
time&gt;45 and time&lt;=90, (90-time)^2/45 - trunc((90-time)^2/45 / (2*Pi))*2*Pi,
time&gt;90 and time&lt;=135, (time-90)^2/45 - trunc((time-90)^2/45 / (2*Pi))*2*Pi,
time&gt;105 and time&lt;=180, (180-time)^2/36 - trunc((180-time)^2/36 / (2*Pi))*2*Pi):

THETA5 := [ seq(  evalf( subs(profile_data, eval( theta5_profile, time = x ))) , x = 0..180)]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;THETA5&gt; , Timee):
THETA5_spline := unapply(%,[Timee]):
</Text-field>
</Input>
</Group>
<Group labelreference="L44842" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#display(
#plot(subs(theta5_profile),time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44868" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L44880" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dtheta5t:= diff(theta5_profile, time):</Text-field>
</Input>
</Group>
<Group labelreference="L44861" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#display(
#plot(dtheta5t,time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44875" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L44845" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d2theta5t:= diff(dtheta5t, time):</Text-field>
</Input>
</Group>
<Group labelreference="L44847" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#display(
#plot(d2theta5t,time=0..180, color=cc[1],  legend=&quot;exact&quot;, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44856" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2I1EhRicvJStleGVjdXRhYmxlR1EmZmFsc2VGJy8lLG1hdGh2YXJpYW50R1Enbm9ybWFsRic=">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2I1EhRic=</Equation></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L44838" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d3theta5t:= diff(d2theta5t, time):</Text-field>
</Input>
</Group>
<Group labelreference="L44839" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#display(
#plot(d3theta5t,time=0..180, color=cc[1],  legend=&quot;exact&quot;),
#plot(d3THETA5t(Timer),Timer=0..180, color=cc[2],  legend=&quot;spline&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44857" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2I1EhRicvJStleGVjdXRhYmxlR1EmZmFsc2VGJy8lLG1hdGh2YXJpYW50R1Enbm9ybWFsRic=">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2I1EhRic=</Equation></Text-field>
</Input>
</Group>
</Section>
<Section collapsed="true" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">theta6(time) profile</Text-field></Title>
<Group hide-input="false" labelreference="L44843" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">theta6_profile:= piecewise(
time&gt;=0 and time&lt;=45, sin(2*Pi*(f_0*time+((f_1-f_0)/2*T)*time^2)),
time&gt;45 and time&lt;=90, sin(2*Pi*(f_0*(90-time)+((f_1-f_0)/2*T)*(90-time)^2)), 
time&gt;90 and time&lt;=140, sin(2*Pi*(f_0*(time-90)+((f_1-f_0)/2*T)*(time-90)^2)), 
time&gt;140 and time&lt;=180, sin(2*Pi*(f_0*(180-time)+((f_1-f_0)/2*T)*(180-time)^2))):

THETA6 := [ seq(  evalf( subs(profile_data, eval( theta6_profile, time = x ))) , x = 0..180)]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;THETA6&gt; , Timee):
THETA6_spline := unapply(%,[Timee]):</Text-field>
</Input>
</Group>
<Group labelreference="L44881" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#display(
#plot(subs(profile_data, theta6_profile),time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44848" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L44840" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dtheta6t:= diff(theta6_profile, time):</Text-field>
</Input>
</Group>
<Group labelreference="L44890" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#display(
#plot(subs(profile_data, dtheta6t),time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44883" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L44846" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d2theta6t:= diff(dtheta6t, time):</Text-field>
</Input>
</Group>
<Group labelreference="L44855" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#display(
#plot(subs(profile_data, d2theta6t),time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44893" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L44869" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d3theta6t:= diff(d2theta6t, time):</Text-field>
</Input>
</Group>
<Group labelreference="L44870" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#display(
#plot(subs(profile_data, d3theta6t),time=0..180, color=cc[1],  legend=&quot;exact&quot;),
#plot(d3THETA6t(Timer),Timer=0..180, color=cc[2],  legend=&quot;spline&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L44892" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
</Section>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" size="24" layout="Heading 1"><Font size="24">Seat Profile</Font></Text-field></Title><Presentation-Block></Presentation-Block>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">Plot with motion profiles of seat </Text-field></Title>
<Group labelreference="L46043" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">POSITION</Font></Text-field>
</Input>
</Group><Presentation-Block>
<Group view="code" labelreference="L45374" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">s_profile_complete:= subs(profile_data, s_profile): theta6_profile_complete:= subs(profile_data, theta6_profile):
solutions := Array(1..180, []):
solutions_v := Array(1..180, []):
dofs:= Array(1..180,[]):
x_seat := Array(1..180, []):
y_seat := Array(1..180, []):
z_seat := Array(1..180, []):
i:=1:
sol_tmp:=1:
while i &lt; 180 do
        dofs[i] := {s = evalf(subs(time=i, s_profile_complete)), 
                    theta1 = evalf(subs(time=i, theta1_profile)),
                    theta5 = evalf(subs(time=i, theta5_profile)),
                    theta6__y =evalf(subs(time=i, theta6_profile_complete))}:
        solutions[i] := fsolve(subs(q_vars_to_symbol,data,dofs[i],Phi),guess);
        guess:=solutions[i];
        sol_tmp:= simplify(subs(q_vars_to_symbol,data, dofs[i],solutions[i], &lt;comp_XYZ(SSeat, RF0)&gt;));
        x_seat[i]:=sol_tmp[1];
        y_seat[i]:=sol_tmp[2];
        z_seat[i]:=sol_tmp[3];        
        i:=i+1;
end do:</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L45399" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(plot([seq([i,  x_seat[i]],  i=1..180)],color=cc[1],legend=typeset(x) ,
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot;Position&quot;),
        plot([seq([i,  y_seat[i]],  i=1..180)],color=cc[2],legend=typeset(y) ,
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot;Position&quot;),
        plot([seq([i,  z_seat[i]],  i=1..180)],color=cc[3],legend=typeset(z) ,
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot;Position&quot;));
</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L45594" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">VELOCITY</Font></Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" hide-input="false" labelreference="L45582" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">solutions := Array(1..180, []):
dofs:= Array(1..180,[]):
dofs_v:= Array(1..180,[]):
x_seat_v := Array(1..180, []):
y_seat_v := Array(1..180, []):
z_seat_v := Array(1..180, []):
i:=1:
sol_tmp:=1:
guess_v:={}:
while i &lt; 180 do
        dofs_v[i]:= {diff(s(t),t) = evalf(subs(time=i, dst)), 
                    diff(theta1(t),t) = evalf(subs(time=i, dtheta1t)),
                    diff(theta5(t),t) = evalf(subs(time=i, dtheta5t)),
                    diff(theta6__y(t),t) =evalf(subs(time=i, dtheta6t))}:
        dofs[i] := {s = evalf(subs(time=i, s_profile_complete)), 
                    theta1 = evalf(subs(time=i, theta1_profile)),
                    theta5 = evalf(subs(time=i, theta5_profile)),
                    theta6__y =evalf(subs(time=i, theta6_profile_complete))}:
        solutions[i] := fsolve(subs(q_vars_to_symbol,data,dofs[i],Phi),guess);
        guess:=solutions[i];
        solutions_v[i] := subs(data, dofs_v[i], subs_qd_vars_s_vel);
        sol_tmp:= simplify(subs(solutions_v[i],dofs_v[i] , q_vars_to_symbol,data, dofs[i],solutions[i], &lt;comp_XYZ(velocity(SSeat), RF0)&gt;));
        x_seat_v[i]:=sol_tmp[1];
        y_seat_v[i]:=sol_tmp[2];
        z_seat_v[i]:=sol_tmp[3];        
        i:=i+1;
end do:</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L45581" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(plot([seq([i,  x_seat_v[i]],  i=1..180)],color=cc[1],legend=typeset(x) ,
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot;Velocity&quot;),
plot([seq([i,  y_seat_v[i]],  i=1..180)],color=cc[2],legend=typeset(y) ,
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot;Velocity&quot;),
        plot([seq([i,  z_seat_v[i]],  i=1..180)],color=cc[3],legend=typeset(z) ,
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot;Velocity&quot;)
);</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L46042" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">ACCELERATION</Font></Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" hide-input="false" labelreference="L45580" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">CurveFitting:-Spline( &lt; [seq(i, i=1..180)] &gt; ,  &lt;convert(x_seat_v,list)&gt;, T):
X_spline := unapply(%,[Timer]):
CurveFitting:-Spline( &lt; [seq(i, i=1..180)] &gt; , &lt;convert(y_seat_v,list)&gt; , T):
Y_spline := unapply(%,[T]):
CurveFitting:-Spline( &lt; [seq(i, i=1..180)] &gt; , &lt;convert(z_seat_v,list)&gt; , T):
Z_spline := unapply(%,[T]):
derive_spline := proc(_spline, T, degree) 
  local L, i;
  L := convert(_spline, list);
  L:=piecewise(seq([L[2*i - 1], diff(L[2*i], `$`(T,degree))][], i = 1 .. floor(1/2*nops(L))), diff(L[-1], `$`(T,degree))); 
  return L:
end:
x_seat_a:=derive_spline(X_spline(T),T,1):
y_seat_a:=derive_spline(Y_spline(T),T,1):
z_seat_a:=derive_spline(Z_spline(T),T,1):
x_seat_j:=derive_spline(X_spline(T),T,2):
y_seat_j:=derive_spline(Y_spline(T),T,2):
z_seat_j:=derive_spline(Z_spline(T),T,2):</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L45975" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(x_seat_a(T),T=0..180, color=cc[1],  legend=&quot;x&quot;,title = &quot;Acceleration&quot;),
plot(y_seat_a(T),T=0..180, color=cc[2],  legend=&quot;y&quot;,title = &quot;Acceleration&quot;),
plot(z_seat_a(T),T=0..180, color=cc[3],  legend=&quot;z&quot;,title = &quot;Acceleration&quot;));</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L45957" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(x_seat_j(T),T=0..180, color=cc[1],  legend=&quot;x&quot;,title = &quot;Jerk&quot;),
plot(y_seat_j(T),T=0..180, color=cc[2],  legend=&quot;y&quot;,title = &quot;Jerk&quot;),
plot(z_seat_j(T),T=0..180, color=cc[3],  legend=&quot;z&quot;,title = &quot;Jerk&quot;));</Text-field>
</Input>
</Group></Presentation-Block>
</Section>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title></Title>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title></Title>
<Group labelreference="L11900" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input>
</Input>
</Group>
</Section>
</Section><Presentation-Block>
<Group view="presentation" inline-output="false" labelreference="L46024" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Equation executable="true" style="2D Math" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2I1EhRicvJStleGVjdXRhYmxlR1EmZmFsc2VGJy8lLG1hdGh2YXJpYW50R1Enbm9ybWFsRic=">JSFH</Equation></Text-field>
</Input>
</Group></Presentation-Block>
</Worksheet>
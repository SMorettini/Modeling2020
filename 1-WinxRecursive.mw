<?xml version="1.0" encoding="UTF-8"?>
<Worksheet>
<Version major="2019" minor="2"/>
<Label-Scheme value="2" prefix=""/>
<View-Properties presentation="false" autoexpanding_sections="true" UserProfileName="Maple Default Profile" NumericFormat-ApplyInteger="true" NumericFormat-ApplyRational="true" NumericFormat-ApplyExponent="false" editable="true">
</View-Properties>
<MapleNet-Properties prettyprint="3" warnlevel="3" compactdisplay="false" preplot="" helpbrowser="standard" displayprecision="-1" echo="1" unitattributes="&quot;fontweight&quot; = &quot;bold&quot;" imaginaryunit="I" longdelim="true" elisiontermsthreshold="10000" elisiondigitsafter="100" elisiondigitsbefore="100" plotdevice="inline" errorbreak="1" plotoptions="" plotdriver="opengl" quiet="false" elisiontermsbefore="100" elisiontermsafter="100" historytimestamp="false" screenwidth="79" indentamount="4" plotoutput="terminal" screenpixelheight="1080" rtablesize="20" useclientjvm="true" labelwidth="20" postplot="" typesetting="extended" ansi="false" ansicolor="[]" elisiondigitsthreshold="10000" showassumed="1" ansilprint="false" trailingsemicolon="true" errorcursor="false" labelling="true" screenheight="25" prompt="&gt; " verboseproc="1" latexwidth="8.0" ShowLabels="true"/>
<Styles>
<Font name="Heading 1" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="18" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Warning" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="2D Output" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Heading 4" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="true" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Line Printed Output" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Heading 2" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="16" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Maple Output" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="2D Inert Output" background="[255,255,255]" bold="false" executable="true" family="Times New Roman" foreground="[144,144,144]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Heading 3" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="true" opaque="false" readonly="false" size="14" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Diagnostic" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[40,120,40]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 1" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Maple Input" background="[255,255,255]" bold="true" executable="true" family="Courier New" foreground="[120,0,14]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Text Output" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 2" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 3" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 4" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 5" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Annotation Title" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="18" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Header and Footer" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="10" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="HyperlinkError" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[255,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="true" placeholder="false"/>
<Font name="Atomic Variable" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[175,0,175]" italic="true" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="HyperlinkWarning" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="true" placeholder="false"/>
<Font name="Dictionary Hyperlink" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[147,0,15]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="true" placeholder="false"/>
<Font name="2D Math" background="[255,255,255]" bold="false" executable="true" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Bullet Item" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Maple Plot" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Annotation Text" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="List Item" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Dash Item" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="2D Input" background="[255,255,255]" bold="false" executable="true" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Error" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[255,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Title" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="18" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Text" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Normal" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Caption Reference" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Code" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[255,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Maple Input Placeholder" background="[255,255,255]" bold="true" executable="true" family="Courier New" foreground="[200,0,200]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="true"/>
<Font name="Equation Label" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Author" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Hyperlink" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,128,128]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="true" placeholder="false"/>
<Font name="Caption Text" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Layout name="Heading 1" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="8" spacebelow="4" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Warning" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Heading 4" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Line Printed Output" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="any" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Heading 2" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="8" spacebelow="2" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Maple Output" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.3" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Heading 3" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Diagnostic" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="any" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Ordered List 1" alignment="left" bullet="numeric" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix="."/>
<Layout name="Text Output" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="newline" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Ordered List 2" alignment="left" bullet="alphabetic" firstindent="0" leftmargin="36" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix="."/>
<Layout name="Ordered List 3" alignment="left" bullet="roman" firstindent="0" leftmargin="72" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix="."/>
<Layout name="Ordered List 4" alignment="left" bullet="ALPHABETIC" firstindent="0" leftmargin="108" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix="."/>
<Layout name="Ordered List 5" alignment="left" bullet="ROMAN" firstindent="0" leftmargin="144" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix="."/>
<Layout name="Annotation Title" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="12" spacebelow="12" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="HyperlinkError" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="HyperlinkWarning" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Bullet Item" alignment="left" bullet="dot" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Maple Plot" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="List Item" alignment="left" bullet="indent" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Dash Item" alignment="left" bullet="dash" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Error" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Title" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="12" spacebelow="12" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Normal" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Author" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="8" spacebelow="8" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Pencil-style name="Pencil 1" pen-color="[0,0,0]" pen-height="1.0" pen-width="1.0" pen-opacity="1.0"/>
<Pencil-style name="Pencil 2" pen-color="[0,0,255]" pen-height="1.0" pen-width="1.0" pen-opacity="1.0"/>
<Pencil-style name="Pencil 3" pen-color="[0,0,0]" pen-height="3.0" pen-width="3.0" pen-opacity="1.0"/>
<Pencil-style name="Pencil 4" pen-color="[0,0,255]" pen-height="3.0" pen-width="3.0" pen-opacity="1.0"/>
<Pencil-style name="Pencil 5" pen-color="[255,0,0]" pen-height="5.0" pen-width="5.0" pen-opacity="1.0"/>
<Highlighter-style name="Highlighter 5" pen-color="[255,255,0]" pen-height="48.0" pen-width="48.0" pen-opacity="0.8"/>
<Highlighter-style name="Highlighter 3" pen-color="[51,255,0]" pen-height="24.0" pen-width="24.0" pen-opacity="0.8"/>
<Highlighter-style name="Highlighter 4" pen-color="[0,255,255]" pen-height="32.0" pen-width="32.0" pen-opacity="0.8"/>
<Highlighter-style name="Highlighter 1" pen-color="[255,153,255]" pen-height="12.0" pen-width="8.0" pen-opacity="0.8"/>
<Highlighter-style name="Highlighter 2" pen-color="[255,204,0]" pen-height="14.0" pen-width="14.0" pen-opacity="0.8"/>
</Styles>
<Startup-Code startupcode=""/>
<Task-table>
    <Task-category name="&lt;default&gt;"/>
</Task-table>
<Task/><Table visible="true" editable="true" exterior="bottom" pagebreak="cell" showlabel="false" title="" plotalignlists="" hiddenborderdisplay="worksheet" interior="none" postexecute="advance" drawcaption="false" drawtitle="false" width="100.0%" captionalignment="0" showinput="false" captionposition="1" id="Table0" alignment="left" randomized="false" labelreference="L40608" showgroup="false" order="row"><Table-Column weight="4" separator="true"></Table-Column><Table-Column weight="196" separator="true"></Table-Column><Table-Row align="top" separator="true"><Table-Cell padding="5" visible="true" fillcolor="[255,255,255]" rowspan="1" backgroundstyle="0" columnspan="1">
<Group labelreference="L40614" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJw==</Equation></Text-field>
</Input>
</Group><Text-field style="Text" layout="Normal"></Text-field>
<Group labelreference="L40613" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJw==</Equation></Text-field>
</Input>
</Group></Table-Cell><Table-Cell padding="5" visible="true" fillcolor="[255,255,255]" rowspan="1" backgroundstyle="0" columnspan="1">
<Group labelreference="L40607" drawlabel="true">
<Input><Text-field style="Annotation Title" layout="Annotation Title">MSc Modelling and Simulation of  Mechatronics Systems</Text-field>
</Input>
<Input><Text-field style="Title" layout="Title">EXTREME SWING
STUDY AND DESIGN AN AMUSEMENT RIDE:
Winx Mechanism</Text-field>
</Input>
</Group>
<Group labelreference="L40609" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJw==</Equation></Text-field>
</Input>
</Group><Text-field style="Author" layout="Author">release 1.0 - date: 09/05/2020</Text-field>
<Group labelreference="L40606" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L40605" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group></Table-Cell></Table-Row></Table>
<Group labelreference="L40616" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">restart:
with(plots):
cc := ColorTools:-GetPalette(&quot;spring&quot;):
plots[setcolors](&quot;spring&quot;):
interface(rtablesize=20):
with(MBSymba_r6):with(LinearAlgebra):
read(&quot;DAE-lib.maplet&quot;):</Text-field>
</Input>
</Group>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1"><Font size="24">Recursive Formulation</Font></Text-field></Title>
<Group labelreference="L4" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Global referrence frame</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L5" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF0  := ground;
P0 := origin(RF0):<Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYoLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy1JJ21zcGFjZUdGJDYmLyUnaGVpZ2h0R1EmMC4wZXhGJy8lJndpZHRoR1EmMC4wZW1GJy8lJmRlcHRoR0Zpbi8lKmxpbmVicmVha0dRKG5ld2xpbmVGJy1GZW42JkZnbkZqbkZdby9GYG9RJWF1dG9GJ0YrRkkvRlhRJ25vcm1hbEYn">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYoLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy1JJ21zcGFjZUdGJDYmLyUnaGVpZ2h0R1EmMC4wZXhGJy8lJndpZHRoR1EmMC4wZW1GJy8lJmRlcHRoR0Zpbi8lKmxpbmVicmVha0dRKG5ld2xpbmVGJy1GZW42JkZnbkZqbkZdby9GYG9RJWF1dG9GJ0YrRkkvRlhRJ25vcm1hbEYn</Equation></Text-field>
</Input>
</Group>
<Group labelreference="L6" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Body 1 reference frame</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L7" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF1_r := RF0.rotate('Z',theta1(t));
P1_r := origin(RF1_r):
<Font style="Text">Parameters:
</Font>q1_r := [theta1(t)]:
<Font style="Text">Unit Vectors:</Font>
i1   := uvec_X(RF1_r):
j1   := uvec_Y(RF1_r):
k1   := uvec_Z(RF1_r):</Text-field>
</Input>
</Group>
<Group labelreference="L9" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Body 2</Font> </Text-field><Text-field style="Text" layout="Normal">Reference frame </Text-field><Text-field style="Text" layout="Normal"># theta2 positivo verso il basso</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L11" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF2_r:=RF1_r.translate(0,0,L1).rotate('Y',-theta2(t));
P2_r:=origin(RF2_r):</Text-field>
</Input>
</Group>
<Group labelreference="L14" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Auxiliary reference frames p2 and p3</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L15" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RFp_2r := RF2_r.translate(L3,0,0);
Pp_2r := origin(RFp_2r):</Text-field>
</Input>
</Group>
<Group labelreference="L17" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font style="Text">Parameters:
</Font>q2_r := [theta2(t)]:
<Font style="Text">Unit Vectors:</Font>
i2   := uvec_X(RF2_r):
j2   := uvec_Y(RF2_r):
k2   := uvec_Z(RF2_r):</Text-field>
</Input>
</Group>
<Group labelreference="L53" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Body 3 (rotation around y in negative sense)</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L52" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#theta3 positivo verso il basso</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L55" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RFp_3r:=RFp_2r.translate(s(t), 0, 0);
Pp_3r:=origin(RFp_3r):</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L50" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF3_r := RFp_3r.translate(L4,0,0).rotate('Y',theta3(t));
P3_r := origin(RF3_r):</Text-field>
</Input>
</Group>
<Group labelreference="L54" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font style="Text">Parameters:
</Font>q3_r := [theta3(t)]:
<Font style="Text">Unit Vectors:</Font>
i3   := uvec_X(RF3_r):
j3   := uvec_Y(RF3_r):
k3   := uvec_Z(RF3_r):</Text-field>
</Input>
</Group>
<Group labelreference="L12" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Body 4</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L24" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF4_r := RF1_r.translate(0,0,L2).rotate('Y',-theta4(t));
P4_r := origin(RF4_r):</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L26" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RFp_4r :=RF4_r.translate(L5,0,0);
Pp_4r := origin(RFp_4r):</Text-field>
</Input>
</Group>
<Group labelreference="L27" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Body 5</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L28" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RFp_5r := RFp_4r.translate(L6 * cos(phi1),0,L6 * sin(phi1));
Pp_5r := origin(RFp_5r):</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L29" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF5_r := RFp_5r.rotate('Z',theta5(t));
P5_r := origin(RF5_r):</Text-field>
</Input>
</Group>
<Group labelreference="L49" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font style="Text">Parameters:
</Font>q5_r := [theta5(t)]:
<Font style="Text">Unit Vectors:</Font>
i5   := uvec_X(RF5_r):
j5   := uvec_Y(RF5_r):
k5   := uvec_Z(RF5_r):</Text-field>
</Input>
</Group>
<Group labelreference="L39" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Body 6</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L40" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RFp_6r := RF5_r.translate(L7+cos(phi2)*L8,sin(phi2)*L8,0).rotate('Z',phi2);
Pp_6r := origin(RFp_6r):</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L41" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RF6_r := RFp_6r.rotate('Y',theta6(t));
P6_r := origin(RF6_r):</Text-field>
</Input>
</Group>
<Group labelreference="L42" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">q6_r := [theta6(t)]:
<Font style="Text">Unit Vectors:</Font>
i6   := uvec_X(RF6_r):
j6   := uvec_Y(RF6_r):<Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJw==</Equation>
k6   := uvec_Z(RF6_r):</Text-field>
</Input>
</Group>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2"><Font size="18">Constraints</Font></Text-field></Title>
<Group hide-input="false" labelreference="L61" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">P3_r_proj := project(P3_r, RF0):</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L60" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Pp_4r_proj := project(Pp_4r, RF0):</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L62" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Phi := comp_XYZ(join_points(P3_r_proj,Pp_4r_proj)): &lt;%&gt;;</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L63" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">PPhi := [Phi[2],Phi[3]]: &lt;%&gt;;</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L64" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">data := {L1 = 1.5*195-25, L2 = 1.5*266-25, L3 = 1.5*130, L4 = 1.5*59.3, L5 = 1.5*175, L6 = 1.5*207, L7 = 1.5*64.9, L8 = 1.5*64.9, L9 = 120, L10=40, phi1 = -Pi/5, phi2 = Pi/4};
qd_vars := {theta2(t), theta4(t)};
qi_vars := {s(t)};
q_vars := {theta1(t),s(t),theta2(t), theta4(t),theta5(t), theta6(t)};</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L59" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">kin := solve(subs(data,PPhi), qd_vars);
sol_kine := simplify(op(solve(PPhi,convert(qd_vars,list))));
sol_kine_vel := simplify(op(solve(diff(PPhi,t),convert(diff(qd_vars,t),list))));
</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L43745" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">q_vars_to_symbol := {seq(q_vars[i] = op(0, q_vars[i]), i = 1 .. nops(q_vars))};</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L43746" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">q_vars_to_function := {seq(op(0,lhs(q_vars_to_symbol[i])) =  lhs(q_vars_to_symbol[i]), i = 1 .. nops(q_vars_to_symbol))};</Text-field>
</Input>
</Group>
<Group labelreference="L43728" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" layout="Heading 3"></Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2"><Font size="18">Plot</Font></Text-field></Title><Presentation-Block>
<Group view="code" labelreference="L36832" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">draw_mech:=proc(sol_kine::{set(`=`)}, data::{set(`=`)}, dof::{set(`=`)},$)<Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYqLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy1JJ21zcGFjZUdGJDYmLyUnaGVpZ2h0R1EmMC4wZXhGJy8lJndpZHRoR1EmMC4wZW1GJy8lJmRlcHRoR0Zpbi8lKmxpbmVicmVha0dRKG5ld2xpbmVGJy1JI21vR0YkNi1RIn5GJy9GWFEnbm9ybWFsRicvJSZmZW5jZUdGNy8lKnNlcGFyYXRvckdGNy8lKXN0cmV0Y2h5R0Y3LyUqc3ltbWV0cmljR0Y3LyUobGFyZ2VvcEdGNy8lLm1vdmFibGVsaW1pdHNHRjcvJSdhY2NlbnRHRjcvJSdsc3BhY2VHRlxvLyUncnNwYWNlR0Zcb0ZaLUZlbjYmRmduRmpuRl1vL0Zgb1ElYXV0b0YnRitGSUZmbw==">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYqLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy1JJ21zcGFjZUdGJDYmLyUnaGVpZ2h0R1EmMC4wZXhGJy8lJndpZHRoR1EmMC4wZW1GJy8lJmRlcHRoR0Zpbi8lKmxpbmVicmVha0dRKG5ld2xpbmVGJy1JI21vR0YkNi1RIn5GJy9GWFEnbm9ybWFsRicvJSZmZW5jZUdGNy8lKnNlcGFyYXRvckdGNy8lKXN0cmV0Y2h5R0Y3LyUqc3ltbWV0cmljR0Y3LyUobGFyZ2VvcEdGNy8lLm1vdmFibGVsaW1pdHNHRjcvJSdhY2NlbnRHRjcvJSdsc3BhY2VHRlxvLyUncnNwYWNlR0Zcb0ZaLUZlbjYmRmduRmpuRl1vL0Zgb1ElYXV0b0YnRitGSUZmbw==</Equation>local p0,p1, p2, p3, p4, p5, p5_a,p6,pp2,pp3,r,lt,p6_a,p6_b,p_seat, p6x, p6y, p6z:
r:=10:lt:=10:
p0:=subs(sol_kine,data,dof,[comp_XYZ(P0,ground)]):
p1:=subs(sol_kine,data,dof,[comp_XYZ(P1_r,ground)]):
p2:=subs(sol_kine,data,dof,[comp_XYZ(P2_r,ground)]):
p3:=subs(sol_kine,data,dof,[comp_XYZ(P3_r,ground)]):
p4:=subs(sol_kine,data,dof,[comp_XYZ(P4_r,ground)]):
p5:=subs(sol_kine,data,dof,[comp_XYZ(P5_r,ground)]):
p5_a:=subs(sol_kine,data,dof,[comp_XYZ(P5_r+make_VECTOR(RF5_r, L7,0,0),ground)]):
p6:=subs(sol_kine,data,dof,[comp_XYZ(P6_r,ground)]):
p6_a:=subs(sol_kine,data,dof,[comp_XYZ(P6_r+make_VECTOR(RF6_r, 0,0,-L9),ground)]):
p6_b:=subs(sol_kine,data,dof,[comp_XYZ(P6_r+make_VECTOR(RF6_r, 0,0,-L9)+make_VECTOR(RF6_r, L10,0,0),ground)]):
#p_seat:=subs(sol_kine,data,dof,[comp_XYZ(SSeat,ground)]):
pp2:=subs(sol_kine,data,dof,[comp_XYZ(Pp_2r,ground)]):
pp3:=subs(sol_kine,data,dof,[comp_XYZ(Pp_3r,ground)]):

p6x:=subs(sol_kine,data,dof,[comp_XYZ(P6_r+make_VECTOR(RF6_r, 10,0,0),ground)]):
p6y:=subs(sol_kine,data,dof,[comp_XYZ(P6_r+make_VECTOR(RF6_r, 0,10,0),ground)]):
p6z:=subs(sol_kine,data,dof,[comp_XYZ(P6_r+make_VECTOR(RF6_r, 0,0,10),ground)]):

display(plottools:-sphere(p1,r,color=cc[1]),
plottools:-sphere(p2,r,color=cc[1]),
plottools:-sphere(p3,r,color=cc[1]),
plottools:-sphere(p4,r,color=cc[1]),
plottools:-sphere(p5,r,color=cc[1]),
plottools:-sphere(p5_a,r,color=cc[1]),
plottools:-sphere(p6,r,color=cc[1]),
plottools:-sphere(p6_a,r,color=cc[1]),
plottools:-sphere(p6_b,r,color=cc[1]),
plottools:-sphere(pp2,r,color=cc[1]),
plottools:-sphere(pp3,r,color=cc[1]),
#plottools:-sphere(p_seat,20,color=cc[1]),
plottools:-line(p1,p2,color=&quot;Blue&quot;, thickness=lt),
plottools:-line(p2,p4,color=&quot;Blue&quot;, thickness=lt),
plottools:-line(p2,pp2,color=&quot;Green&quot;, thickness=lt),
plottools:-line(p3,pp3,color=&quot;Blue&quot;, thickness=lt),
plottools:-line(p4,p3,color=&quot;Red&quot;, thickness=lt),
plottools:-line(p3,p5,color=&quot;Red&quot;, thickness=lt),
plottools:-line(p5,p5_a,color=&quot;Orange&quot;, thickness=lt),
plottools:-line(p5_a,p6,color=&quot;Yellow&quot;, thickness=lt),
plottools:-line(p6,p6_a,color=&quot;Blue&quot;, thickness=lt),
plottools:-line(p6_a,p6_b,color=&quot;Blue&quot;, thickness=lt),
plots:-arrow(p0,[10,0,0],color=&quot;Red&quot;, shape=arrow),
plots:-arrow(p0,[0,10,0],color=&quot;Green&quot;, shape=arrow),
plots:-arrow(p0,[0,0,10],color=&quot;Black&quot;, shape=arrow),

#plottools:-line(p6,p6x,color=&quot;Red&quot;, thickness=lt),
#plottools:-line(p6,p6y,color=&quot;Green&quot;, thickness=lt),
#plottools:-line(p6,p6z,color=&quot;Black&quot;, thickness=lt),
scaling=constrained,
axes=boxed
):
end:</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" hide-input="false" labelreference="L37047" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dof := {s(t) = 0, theta1(t) = 0, theta5(t) = 0, theta6(t) = 0};</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L37017" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">simplify(subs(dof, data, kin), explicit); #-&gt; <Font size="18">initial configuration</Font></Text-field>
</Input>
</Group></Presentation-Block>
<Group labelreference="L274" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">draw_mech(kin, data, dof);</Text-field>
</Input>
</Group>
<Group labelreference="L40789" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font size="18" bold="true">Constraints' Plots</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L40790" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" spaceabove="0" linebreak="space" rightmargin="0" linespacing="0.0" initial="0" firstindent="0" leftmargin="0" bulletsuffix="" alignment="left" bullet="none" spacebelow="0" pagebreak-before="false">display(
plot(subs( kin, data, s(t) = st, theta2(t)*180/Pi), st = 0..100, color = cc[1], legend = theta2),
plot(subs( kin, data, s(t) = st, theta4(t)*180/Pi), st = 0..100, color = cc[2], legend = theta4),
<Font encoding="UTF-8">labels = [s, \302\260],</Font>
<Font encoding="UTF-8">title = &quot; Position analysis: position dependent coordinates\134n&quot;)</Font>;</Text-field>
</Input>
</Group>
</Section>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1"><Font size="24">Working Space</Font></Text-field></Title><Presentation-Block>
<Group view="code" labelreference="L42172" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#plot mechanism for animating

draw_mech_for_animate:=proc(all_sols::list, index, data::{set(`=`)}, dofs::list,$)
local sol_kine, dof:
sol_kine:=all_sols[trunc(index)]:
dof:=dofs[trunc(index)]:
draw_mech(sol_kine,data,dof):
end:</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L42178" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">RFSeat := RF6_r.translate(L10,0,-L9):
SSeat  := origin(RFSeat):</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L42177" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dim_of_s:=10:    dim_of_theta1:=10:
solutions_workingspace := Array(1..dim_of_s*dim_of_theta1,[]):
dofs_workingspace:= Array(1..dim_of_s*dim_of_theta1,[]):
x_seat := Array(1 .. dim_of_s*dim_of_theta1, []):
y_seat := Array(1 .. dim_of_s*dim_of_theta1, []):
z_seat := Array(1 .. dim_of_s*dim_of_theta1, []):
i:=1:
sol_tmp:=1:
for si from 0 to dim_of_s-1 do
  for th1i from 0 to dim_of_theta1-1 do
    #for th5i from Pi to 2 do
    #for th6i from 0 to 2 do

    dofs_workingspace[i] := {s(t) = si*8.5, theta1(t) = th1i*(2*Pi/dim_of_theta1), theta5(t) = 0, theta6(t) = 0}:  ##Maximum extension
    #solutions_workingspace[i] := fsolve(subs(q_vars_to_symbol,data,dofs_workingspace[i],Phi),guess);

    solutions_workingspace[i] := simplify(subs(data,dofs_workingspace[i],kin));
       
    sol_tmp:= simplify(subs(data, dofs_workingspace[i],solutions_workingspace[i], &lt;comp_XYZ(SSeat, RF0)&gt;));
    x_seat[i]:=sol_tmp[1];
    y_seat[i]:=sol_tmp[2];
    z_seat[i]:=sol_tmp[3];
    i:=i+1;

    #end do:
    #end do:
  end do:
end do:</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L42173" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">XXXX := Vector(convert(x_seat, list)): min(XXXX); max(XXXX);
YYYY := Vector(convert(y_seat, list)): min(YYYY); max(YYYY);
ZZZZ := Vector(convert(z_seat, list)): min(ZZZZ); max(ZZZZ);</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L42175" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Ptriang := plots:-surfdata( &lt;XXXX|YYYY|ZZZZ&gt;, source=irregular ):

plots:-display( Ptriang,
                plots:-pointplot3d(&lt;XXXX|YYYY|ZZZZ&gt;,symbolsize=20,color=red),
                axes=box );</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L50959" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">convert(solutions_workingspace, list);
convert(dofs_workingspace, list);</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L42174" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">animate(draw_mech_for_animate, [convert(solutions_workingspace, list), INDEX, data, convert(dofs_workingspace, list)], INDEX = 1 .. dim_of_s*dim_of_theta1, frames = dim_of_s*dim_of_theta1)</Text-field>
</Input>
</Group></Presentation-Block>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" size="24" layout="Heading 1"><Font size="24">Initial position Problem</Font></Text-field></Title>
<Group labelreference="L37063" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" size="18" layout="Normal"><Font size="18" bold="true">Analityc method</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L37064" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">kin_implicit := solve(PPhi, qd_vars);</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L37066" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">all_kine_sol := [allvalues(subs(data,s(t) = st, kin_implicit))];</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L37067" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">op(all_kine_sol); nops(all_kine_sol);</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L37068" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">singular(rhs(all_kine_sol[1][1]));</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L37069" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">singular(rhs(all_kine_sol[1][2]));</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L37070" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">singular(rhs(all_kine_sol[2][1]));</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L37071" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">singular(rhs(all_kine_sol[2][2]));</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L37072" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#tmp := subs(data,<Font opaque="true" background="[255,255,0]">t=RootOf(2*s(_Z) + 583)</Font>,<Font foreground="[0,0,255]">kin_implicit</Font>);allvalues(tmp); #controlla, qui dovrebbe dirti impossibie</Text-field>
</Input>
</Group>
<Group labelreference="L37073" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJw==</Equation></Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1"><Font size="24">Velocity</Font></Text-field></Title><Presentation-Block>
<Group view="code" labelreference="L39115" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font size="16" bold="true">Jacobians:</Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39116" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">JPhiD := jacobianF(PPhi,qd_vars): Rank(JPhiD)=2;
JPhiI := jacobianF(PPhi,qi_vars): Rank(JPhiI)=1;

Tau := (simplify( -LinearAlgebra:-MatrixInverse(JPhiD).JPhiI, trig)):
Dimension(Tau);</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group labelreference="L39112" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Velocities of dependent coordinates</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L39114" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">qd_vars_dot := Tau.&lt;diff(s(t),t)&gt;;</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L39118" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true" foreground="[128,0,0]">Substitution expression</Font> for velocities</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39119" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">subs_qd_vars_vel := [seq( diff(qd_vars[i],t) = qd_vars_dot[i],i=1..nops(qd_vars))];
nops(%);</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L39900" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" bold="false" layout="Normal"><Font bold="true">display( 
plot(subs(subs_qd_vars_vel, kin, data, <Font opaque="true" background="[255,255,0]" foreground="[0,0,0]">diff(s(t),t) = 1</Font>, s(t) = st, qd_vars_dot[1]*180/Pi), st = 0..100,color=cc[1],legend=typeset(diff(qd_vars[1],t))),
plot(subs(subs_qd_vars_vel, kin, data, <Font opaque="true" background="[255,255,0]">diff(s(t),t) = 1</Font>, s(t) = st, qd_vars_dot[2]*180/Pi), st = 0..100,color=cc[2],legend=typeset(diff(qd_vars[2],t))),
         labels = [typeset(s,&quot;[m]&quot;),vel],
         title = &quot; Velocity with driven body <Font opaque="true" background="[255,255,0]">moving at constant velocity rate</Font>&quot;);</Font></Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L39121" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" layout="Heading 3">Singular configurations</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39120" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">eq_det := simplify(LinearAlgebra:-Determinant(JPhiD));</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L39113" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">We compute analytical singular configurations</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39117" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">SCs := solve([op(PPhi),eq_det],qd_vars union qi_vars,explicit=true); nops(&lt;%&gt;);</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L39123" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font opaque="true" background="[255,255,0]">The SCs evaluated with the parameters of the system
<Font bold="true">SCs exists only on second option, with s(t)=85</Font></Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39124" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">subs(data,&lt;SCs&gt;);</Text-field>
</Input>
</Group></Presentation-Block>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1"><Font size="24">Acceleration</Font></Text-field></Title><Presentation-Block>
<Group labelreference="L39132" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">We can now compute the acceleration just by differentiating the velocities.
qD' = Tau(qD,qI).qI'
<Font underline="true">Remember that accelerations of dependents are: qD'' = Tau.qI''+diff(Tau,t).qD';</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L39125" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#qD_dot;</Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">qd_vars_acc := simplify( map(diff,qd_vars_dot,t),size):
AA,res := LinearAlgebra:-GenerateMatrix(convert(qd_vars_acc,list),diff(qi_vars,t,t)):res:</Text-field>
</Input>
<Input><Text-field style="Text" layout="Normal">Proof</Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">simplify(AA-Tau);</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L39128" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#simplify(subs(  subs_qD_vel,qD_acc[1]),size);</Text-field>
</Input>
</Group>
<Group labelreference="L39135" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">In acceleration analysis, positions (i.e. coordinate values) and velocities of the coordinates be known</Text-field>
</Input>
</Group>
<Group labelreference="L39130" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">here the substitution can be done analytically since the model is not complex.</Text-field><Text-field style="Text" layout="Normal">However, itr would be better to compute velocities and accelerations in sequence given the position, velocity and acceleration of independent:</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L39129" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">qd_vars_acc_full := simplify(subs( subs_qd_vars_vel,qd_vars_acc),size):

<Font style="Text">Can be rewritten as: AA1.qI''+AA2.qI'^2:</Font>

AA1 ,  res := LinearAlgebra:-GenerateMatrix(convert(qd_vars_acc_full,list),diff(qi_vars,t,t)):res:
AA2 ,  res := LinearAlgebra:-GenerateMatrix(<Font opaque="true" background="[255,255,0]">subs(diff(</Font>qi_vars[1]<Font opaque="true" background="[255,255,0]">,t)^2=qI2</Font>,convert(<Font opaque="true" background="[255,255,0]">-</Font>res,list)),[qI2]):res:

res;
simplify(AA1-subs(subs_qd_vars_vel,AA));
qD_acc: &lt;%&gt;:
qD_acc_full:&lt;%&gt;:</Text-field>
</Input>
</Group>
<Group labelreference="L39126" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Reconstruct the solution</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L39131" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">ACC := AA1.&lt;s__dot__dot&gt;+AA2.&lt;s__dot2&gt;:</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L39668" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">subs_qd_vars_acc := {seq( diff(qd_vars[i],t,t) = ACC[i],i=1..nops(qd_vars))};</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L39873" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display( 
plot(subs(subs_qd_vars_acc, kin,data, s(t) = st,  s__dot__dot<Font opaque="true" background="[255,255,0]"> = 0</Font>, s__dot2 = 1, ACC[1]*180/Pi),st = 0..58,color=cc[1],legend=typeset(diff(qd_vars[1],t,t))),
plot(subs(subs_qd_vars_acc, kin,data, s(t) = st, s__dot__dot<Font opaque="true" background="[255,255,0]"> = 0</Font>, s__dot2 = 1, ACC[2]*180/Pi),st = 0..58,color=cc[2],legend=typeset(diff(qd_vars[2],t,t))),
         labels = [typeset(s,&quot;[m]&quot;),acc],
         title = &quot; Accelerations with driven body moving at constant velocity rate&quot;);</Text-field>
</Input>
</Group>
<Group labelreference="L40454" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group></Presentation-Block>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" size="24" layout="Heading 1"><Font size="24">Rehonomous Constraints</Font></Text-field></Title>
<Group labelreference="L46543" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Invece di metter questi profili basterebbe metterci i valori ottenuti numericamente nelle sezioni finali come funzione del tempo</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46560" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">alphas := 42:    alpha1 := 2*Pi:     alpha5 := 2*Pi:     alpha6 := 2*Pi:
omegas := 0.2:   omega1 := 0.1:      omega5 := 0.05:     omega6 := 0.06:</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46557" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">s_profile_time := alphas - alphas*cos(omegas*t);       #unapply( subs( profile_data, s_profile) , time): 
theta1_profile_time := Pi/2+alpha1*sin(omega1*t);  #unapply( subs( profile_data, theta1_profile), time):
theta5_profile_time := alpha5*sin(omega5*t);  #unapply( subs( profile_data, theta5_profile), time):
theta6_profile_time := alpha6*sin(omega6*t);  #unapply( subs( profile_data, theta6_profile), time):
</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46551" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">PSI := PPhi union 
[s(t) - s_profile_time] union 
[theta1(t) - theta1_profile_time] union 
[theta5(t) - theta5_profile_time] union 
[theta6(t) - theta6_profile_time]: &lt;%&gt;;</Text-field>
</Input>
</Group>
<Group labelreference="L46539" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font size="18">Position</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46556" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">kin_augmented := solve(subs(data,PSI), q_vars):</Text-field>
</Input>
</Group><Presentation-Block>
<Group view="code" hide-input="false" labelreference="L46558" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">kin_solutions := Vector( [ seq( subs(t=x, kin_augmented), x=0..180) ] ):
display( 
plot(   [  seq(  [  i  ,  rhs(kin_solutions[i][1])  ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions)  )  ] ,color=cc[1],legend=typeset(q_vars[1]) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions[i][2]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions)  )  ] ,color=cc[2],legend=typeset(q_vars[2]) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions[i][3]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions)  )  ] ,color=cc[3],legend=typeset(q_vars[3]) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions[i][4]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions)  )  ] ,color=cc[4],legend=typeset(q_vars[4]) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions[i][5]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions)  )  ] ,color=cc[5],legend=typeset(q_vars[5]) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions[i][6]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions)  )  ] ,color=cc[6],legend=typeset(q_vars[6]) ),
         labels = [typeset(t,&quot;[s]&quot;),Position],
         title = &quot;Position&quot;);</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L46544" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font size="18">Velocity</Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L46553" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Aug_Jac := jacobianF(PSI, q_vars): Rank(%) = Dimension(Aug_Jac):
solve(Determinant(subs(data,Aug_Jac))): #Aug_Jac in Not Singular</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L46549" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">q_vars_dot := -(MatrixInverse(Aug_Jac)).&lt;diff(PSI,t)&gt;:
subs_q_vars_vel := [seq( diff(q_vars[i],t) = solve(q_vars_dot[i],diff(q_vars[i],t)),i=1..Dimension(q_vars_dot))]:
</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L46552" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">kin_solutions_vel := Vector( [ seq( [evalf(subs(subs_q_vars_vel, kin_augmented,  kin_solutions[x+1], t=x, data, subs_q_vars_vel))]  , x = 0..180) ] ):
display( 
plot(   [  seq(  [  i  ,  rhs(kin_solutions_vel[i][1])  ]          ,  i=1..LinearAlgebra[Dimension](kin_solutions_vel)  )  ] ,color=cc[1], legend=typeset(diff(q_vars[1],t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_vel[i][2]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_vel)  )  ] ,color=cc[2], legend=typeset(diff(q_vars[2],t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_vel[i][3]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_vel)  )  ] ,color=cc[3], legend=typeset(diff(q_vars[3],t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_vel[i][4]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_vel)  )  ] ,color=cc[4], legend=typeset(diff(q_vars[4],t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_vel[i][5]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_vel)  )  ] ,color=cc[5], legend=typeset(diff(q_vars[5],t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_vel[i][6]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_vel)  )  ] ,color=cc[6], legend=typeset(diff(q_vars[6],t)) ),
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot;Velocity&quot;);</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L46545" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font size="18">Acceleration</Font></Text-field>
</Input>
</Group></Presentation-Block>
<Group hide-input="false" labelreference="L46554" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">q_vars_dot_dot := -(MatrixInverse(Aug_Jac)).(diff(Aug_Jac, t).q_vars_dot + &lt;diff(PSI,t,t)&gt;):
subs_q_vars_acc := [seq( diff(q_vars[i],t,t) = solve(q_vars_dot_dot[i],diff(q_vars[i],t,t)),i=1..Dimension(q_vars_dot_dot))]:</Text-field>
</Input>
</Group>
<Group labelreference="L46540" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">kin_solutions_acc := Vector( [ seq( [evalf(subs(subs_q_vars_acc, subs_q_vars_vel, kin_augmented,  kin_solutions[x+1], t=x, data, subs_q_vars_acc))]  , x = 0..180) ] ):
display( 
plot(   [  seq(  [  i  ,  rhs(kin_solutions_acc[i][1])  ]          ,  i=1..LinearAlgebra[Dimension](kin_solutions_acc)  )  ] ,color=cc[1], legend=typeset(diff(q_vars[1],t,t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_acc[i][2]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_acc)  )  ] ,color=cc[2], legend=typeset(diff(q_vars[2],t,t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_acc[i][3]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_acc)  )  ] ,color=cc[3], legend=typeset(diff(q_vars[3],t,t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_acc[i][4]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_acc)  )  ] ,color=cc[4], legend=typeset(diff(q_vars[4],t,t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_acc[i][5]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_acc)  )  ] ,color=cc[5], legend=typeset(diff(q_vars[5],t,t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_acc[i][6]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_acc)  )  ] ,color=cc[6], legend=typeset(diff(q_vars[6],t,t)) ),
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot;Acceleration&quot;);</Text-field>
</Input>
</Group><Presentation-Block>
<Group view="code" labelreference="L46547" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font size="18">Jerk (using splines)</Font></Text-field>
</Input>
</Group>
<Group view="code" labelreference="L48872" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">derive_spline := proc(_spline, T, degree) 
  local L, i;
  L := convert(_spline, list);
  L:=piecewise(seq([L[2*i - 1], diff(L[2*i], `$`(T,degree))][], i = 1 .. floor(1/2*nops(L))), diff(L[-1], `$`(T,degree))); 
  return L:
end:</Text-field>
</Input>
</Group></Presentation-Block>
<Group hide-input="false" labelreference="L46555" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">ACC_POINTS_S := [  seq(   rhs(kin_solutions_acc[i][1])   ,  i=1..LinearAlgebra[Dimension](kin_solutions_acc)  )  ]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;ACC_POINTS_S&gt; , Timer):
d2St_spline := unapply(%,[Timer]):

ACC_POINTS_THETA1 := [  seq(   rhs(kin_solutions_acc[i][2])   ,  i=1..LinearAlgebra[Dimension](kin_solutions_acc)  )  ]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;ACC_POINTS_THETA1&gt; , Timer):
d2THETA1t_spline := unapply(%,[Timer]):

ACC_POINTS_THETA2 := [  seq(   rhs(kin_solutions_acc[i][3])   ,  i=2..LinearAlgebra[Dimension](kin_solutions_acc)  )  ]:
CurveFitting:-Spline( &lt; [seq(i, i=1..180)] &gt; , &lt;ACC_POINTS_THETA2&gt; , Timer):
d2THETA2t_spline := unapply(%,[Timer]):

ACC_POINTS_THETA4 := [  seq(   rhs(kin_solutions_acc[i][4])   ,  i=2..LinearAlgebra[Dimension](kin_solutions_acc)  )  ]:
CurveFitting:-Spline( &lt; [seq(i, i=1..180)] &gt; , &lt;ACC_POINTS_THETA4&gt; , Timer):
d2THETA4t_spline := unapply(%,[Timer]):

ACC_POINTS_THETA5 := [  seq(   rhs(kin_solutions_acc[i][5])   ,  i=1..LinearAlgebra[Dimension](kin_solutions_acc)  )  ]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;ACC_POINTS_THETA5&gt; , Timer):
d2THETA5t_spline := unapply(%,[Timer]):

ACC_POINTS_THETA6 := [  seq(   rhs(kin_solutions_acc[i][6])   ,  i=1..LinearAlgebra[Dimension](kin_solutions_acc)  )  ]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;ACC_POINTS_THETA6&gt; , Timer):
d2THETA6t_spline := unapply(%,[Timer]):
</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L48296" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">q_vars_jerk_profile := Vector([
derive_spline(d2St_spline(Timer), Timer, 1),
derive_spline(d2THETA1t_spline(Timer), Timer, 1),
derive_spline(d2THETA2t_spline(Timer), Timer, 1),
derive_spline(d2THETA4t_spline(Timer), Timer, 1),
derive_spline(d2THETA5t_spline(Timer), Timer, 1),
derive_spline(d2THETA6t_spline(Timer), Timer, 1)
]):</Text-field>
</Input>
</Group>
<Group labelreference="L48295" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(q_vars_jerk_profile[1](Timer), Timer=0..180, color=cc[1],  legend=&quot;jerk S&quot;),
plot(q_vars_jerk_profile[2](Timer), Timer=0..180, color=cc[2],  legend=&quot;jerk THETA1&quot;),
plot(q_vars_jerk_profile[3](Timer), Timer=0..180, color=cc[3],  legend=&quot;jerk THETA2&quot;),
plot(q_vars_jerk_profile[4](Timer), Timer=0..180, color=cc[4],  legend=&quot;jerk THETA4&quot;),
plot(q_vars_jerk_profile[5](Timer), Timer=0..180, color=cc[5],  legend=&quot;jerk THETA5&quot;),
plot(q_vars_jerk_profile[6](Timer), Timer=0..180, color=cc[6],  legend=&quot;jerk THETA6&quot;),
         labels = [typeset(t,&quot;[s]&quot;),vel],
         title = &quot;Jerk&quot;);</Text-field>
</Input>
</Group>
<Group labelreference="L48416" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJw==</Equation></Text-field>
</Input>
</Group>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">Seat Profile</Text-field></Title>
<Group hide-input="false" labelreference="L48425" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Seat := comp_XYZ(project(origin(RFSeat), RF0));</Text-field>
</Input>
</Group>
<Group labelreference="L48429" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">POSITION</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L48427" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">seat_profile := Vector( [ seq( [ subs( data,
{s(t) = rhs(kin_solutions[x+1][1])},  
{theta1(t) = rhs(kin_solutions[x+1][2])}, 
{theta2(t) = rhs(kin_solutions[x+1][3])}, 
{theta4(t) = rhs(kin_solutions[x+1][4])}, 
{theta5(t) = rhs(kin_solutions[x+1][5])}, 
{theta6(t) = rhs(kin_solutions[x+1][6])}, 
[Seat]) ] , x=0..180) ] ):
display( 
plot(   [  seq(  [  i  ,  seat_profile[i][1] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile)  )  ] ,color=cc[1],legend=typeset(x) ),
plot(   [  seq(  [  i  ,  seat_profile[i][2] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile)  )  ] ,color=cc[2],legend=typeset(y) ), 
plot(   [  seq(  [  i  ,  seat_profile[i][3] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile)  )  ] ,color=cc[3],legend=typeset(z) ), 
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot; Position &quot;);</Text-field>
</Input>
</Group>
<Group labelreference="L48418" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">VELOCITY</Font></Text-field>
</Input>
</Group>
<Group labelreference="L48426" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">_seat_profile_vel := [diff(Seat[1], t), diff(Seat[2], t), diff(Seat[3], t)]:</Text-field>
</Input>
</Group>
<Group labelreference="L48421" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">seat_profile_vel := Vector( [ seq( [ subs( data,
{diff(s(t),t) = rhs(kin_solutions_vel[x+1][1])},  
{diff(theta1(t),t) = rhs(kin_solutions_vel[x+1][2])}, 
{diff(theta2(t),t) = rhs(kin_solutions_vel[x+1][3])}, 
{diff(theta4(t),t) = rhs(kin_solutions_vel[x+1][4])}, 
{diff(theta5(t),t) = rhs(kin_solutions_vel[x+1][5])}, 
{diff(theta6(t),t) = rhs(kin_solutions_vel[x+1][6])}, 
{s(t) = rhs(kin_solutions[x+1][1])},  
{theta1(t) = rhs(kin_solutions[x+1][2])}, 
{theta2(t) = rhs(kin_solutions[x+1][3])}, 
{theta4(t) = rhs(kin_solutions[x+1][4])}, 
{theta5(t) = rhs(kin_solutions[x+1][5])}, 
{theta6(t) = rhs(kin_solutions[x+1][6])}, 
[_seat_profile_vel]) ] , x=0..180) ] ):

display( 
plot(   [  seq(  [  i  ,  seat_profile_vel[i][1][1] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_vel)  )  ] ,color=cc[1],legend=typeset(x__dot) ),
plot(   [  seq(  [  i  ,  seat_profile_vel[i][1][2] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_vel)  )  ] ,color=cc[2],legend=typeset(y__dot) ), 
plot(   [  seq(  [  i  ,  seat_profile_vel[i][1][3] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_vel)  )  ] ,color=cc[3],legend=typeset(z__dot) ), 
         labels = [typeset(t,&quot;[s]&quot;),vel],
         title = &quot; Velocity &quot;);</Text-field>
</Input>
</Group>
<Group labelreference="L48428" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" bold="true" layout="Normal"><Font bold="true">ACCELERATION</Font></Text-field>
</Input>
</Group>
<Group labelreference="L48419" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">_seat_profile_acc := [diff(_seat_profile_vel[1], t), diff(_seat_profile_vel[2], t), diff(_seat_profile_vel[3], t)]:</Text-field>
</Input>
</Group>
<Group labelreference="L48422" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">seat_profile_acc := Vector( [ seq( [ subs( data,
{diff(s(t),t,t) = rhs(kin_solutions_acc[x+1][1])},  
{diff(theta1(t),t,t) = rhs(kin_solutions_acc[x+1][2])}, 
{diff(theta2(t),t,t) = rhs(kin_solutions_acc[x+1][3])}, 
{diff(theta4(t),t,t) = rhs(kin_solutions_acc[x+1][4])}, 
{diff(theta5(t),t,t) = rhs(kin_solutions_acc[x+1][5])}, 
{diff(theta6(t),t,t) = rhs(kin_solutions_acc[x+1][6])}, 
{diff(s(t),t) = rhs(kin_solutions_vel[x+1][1])},  
{diff(theta1(t),t) = rhs(kin_solutions_vel[x+1][2])}, 
{diff(theta2(t),t) = rhs(kin_solutions_vel[x+1][3])}, 
{diff(theta4(t),t) = rhs(kin_solutions_vel[x+1][4])}, 
{diff(theta5(t),t) = rhs(kin_solutions_vel[x+1][5])}, 
{diff(theta6(t),t) = rhs(kin_solutions_vel[x+1][6])}, 
{s(t) = rhs(kin_solutions[x+1][1])},  
{theta1(t) = rhs(kin_solutions[x+1][2])}, 
{theta2(t) = rhs(kin_solutions[x+1][3])}, 
{theta4(t) = rhs(kin_solutions[x+1][4])}, 
{theta5(t) = rhs(kin_solutions[x+1][5])}, 
{theta6(t) = rhs(kin_solutions[x+1][6])}, 
[_seat_profile_acc]) ] , x=0..180) ] ):

display( 
plot(   [  seq(  [  i  ,  seat_profile_acc[i][1][1] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_acc)  )  ] ,color=cc[1],legend=typeset(x__dot__dot) ),
plot(   [  seq(  [  i  ,  seat_profile_acc[i][1][2] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_acc)  )  ] ,color=cc[2],legend=typeset(y__dot__dot) ), 
plot(   [  seq(  [  i  ,  seat_profile_acc[i][1][3] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_acc)  )  ] ,color=cc[3],legend=typeset(z__dot__dot) ), 
         labels = [typeset(t,&quot;[s]&quot;),acc],
         title = &quot; Acceleration &quot;);</Text-field>
</Input>
</Group>
<Group labelreference="L48420" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" bold="true" layout="Normal"><Font bold="true">JERK</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L48424" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">_seat_profile_jerk := [diff(_seat_profile_acc[1], t), diff(_seat_profile_acc[2], t), diff(_seat_profile_acc[3], t)]:</Text-field>
</Input>
</Group>
<Group labelreference="L48423" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">seat_profile_jerk := Vector( [ seq( [ subs( data,
{diff(s(t),t,t,t) = eval(q_vars_jerk_profile[1](Timer), Timer = x)},  
{diff(theta1(t),t,t,t) = eval(q_vars_jerk_profile[2](Timer), Timer = x)}, 
{diff(theta2(t),t,t,t) = eval(q_vars_jerk_profile[3](Timer), Timer = x)}, 
{diff(theta4(t),t,t,t) = eval(q_vars_jerk_profile[4](Timer), Timer = x)}, 
{diff(theta5(t),t,t,t) = eval(q_vars_jerk_profile[5](Timer), Timer = x)}, 
{diff(theta6(t),t,t,t) = eval(q_vars_jerk_profile[6](Timer), Timer = x)}, 
{diff(s(t),t,t) = rhs(kin_solutions_acc[x+1][1])},  
{diff(theta1(t),t,t) = rhs(kin_solutions_acc[x+1][2])}, 
{diff(theta2(t),t,t) = rhs(kin_solutions_acc[x+1][3])}, 
{diff(theta4(t),t,t) = rhs(kin_solutions_acc[x+1][4])}, 
{diff(theta5(t),t,t) = rhs(kin_solutions_acc[x+1][5])}, 
{diff(theta6(t),t,t) = rhs(kin_solutions_acc[x+1][6])}, 
{diff(s(t),t) = rhs(kin_solutions_vel[x+1][1])},  
{diff(theta1(t),t) = rhs(kin_solutions_vel[x+1][2])}, 
{diff(theta2(t),t) = rhs(kin_solutions_vel[x+1][3])}, 
{diff(theta4(t),t) = rhs(kin_solutions_vel[x+1][4])}, 
{diff(theta5(t),t) = rhs(kin_solutions_vel[x+1][5])}, 
{diff(theta6(t),t) = rhs(kin_solutions_vel[x+1][6])}, 
{s(t) = rhs(kin_solutions[x+1][1])},  
{theta1(t) = rhs(kin_solutions[x+1][2])}, 
{theta2(t) = rhs(kin_solutions[x+1][3])}, 
{theta4(t) = rhs(kin_solutions[x+1][4])}, 
{theta5(t) = rhs(kin_solutions[x+1][5])}, 
{theta6(t) = rhs(kin_solutions[x+1][6])}, 
[_seat_profile_jerk]) ] , x=0..180) ] ):

display( 
plot(   [  seq(  [  i  ,  seat_profile_jerk[i][1][1] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_jerk)  )  ] ,color=cc[1],legend=typeset(x__dot__dot__dot) ),
plot(   [  seq(  [  i  ,  seat_profile_jerk[i][1][2] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_jerk)  )  ] ,color=cc[2],legend=typeset(y__dot__dot__dot) ), 
plot(   [  seq(  [  i  ,  seat_profile_jerk[i][1][3] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_jerk)  )  ] ,color=cc[3],legend=typeset(z__dot__dot__dot) ), 
         labels = [typeset(t,&quot;[s]&quot;),jerk],
         title = &quot; Jerk &quot;);</Text-field>
</Input>
</Group>
</Section>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" size="24" layout="Heading 1"><Font size="24">Motion Profiles</Font></Text-field></Title>
<Group hide-input="false" labelreference="L46307" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">profile_data := { f_0 = 1/(Pi*3000), f_1 = 1/(Pi*6000), T = 60}:</Text-field>
</Input>
</Group>
<Group labelreference="L46260" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">derive_spline := proc(_spline, T, degree) 
  local L, i;
  L := convert(_spline, list);
  L:=piecewise(seq([L[2*i - 1], diff(L[2*i], `$`(T,degree))][], i = 1 .. floor(1/2*nops(L))), diff(L[-1], `$`(T,degree))); 
  return L:
end:</Text-field>
</Input>
</Group>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">s(time) profile</Text-field></Title>
<Group hide-input="false" labelreference="L46291" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">s_profile := 0.51 + 0.51 * piecewise(
time&gt;=0 and time&lt;=45, sin(2*Pi*(f_0*time+((f_1-f_0)/2*T)*time^2)),
time&gt;45 and time&lt;=90, sin(2*Pi*(f_0*(90-time)+((f_1-f_0)/2*T)*(90-time)^2)),
time&gt;90 and time&lt;=140, sin(2*Pi*(f_0*(time-90)+((f_1-f_0)/2*T)*(time-90)^2)), 
time&gt;140 and time&lt;=180, sin(2*Pi*(f_0*(180-time)+((f_1-f_0)/2*T)*(180-time)^2))):

SS := [ seq(  evalf( subs(profile_data, eval( s_profile, time = x ))) , x = 0..180)]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;SS&gt; , Timer):
SS_spline := unapply(%,[Timer]):</Text-field>
</Input>
</Group>
<Group labelreference="L46301" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">POSITION</Font></Text-field>
</Input>
</Group>
<Group labelreference="L46294" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(profile_data, s_profile),time=0..180, color=cc[1],  legend=&quot;exact&quot;),
plot(SS_spline(Timer),Timer=0..180, color=cc[2],  legend=&quot;spline&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46293" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">VELOCITY</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46281" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dst:= diff(s_profile, time):
#dSSt := diff(SS_spline(Timer), Timer):
dSSt :=derive_spline(SS_spline(Timer), Timer,1):</Text-field>
</Input>
</Group>
<Group labelreference="L46292" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(profile_data, dst),time=0..180, color=cc[1],  legend=&quot;exact&quot;),
plot(dSSt(Timer),Timer=0..180, color=cc[2],  legend=&quot;spline&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46279" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" bold="true" layout="Normal"><Font bold="true">ACCELERATION</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46275" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d2st:= diff(dst, time):
#d2SSt := diff(SS_spline(Timer), Timer, Timer):
d2SSt :=derive_spline(SS_spline(Timer), Timer,2):</Text-field>
</Input>
</Group>
<Group labelreference="L46300" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(profile_data, d2st),time=0..180, color=cc[1],  legend=&quot;exact&quot;),
plot(d2SSt(Timer), Timer=0..180, color=cc[2],  legend=&quot;spline&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46262" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" bold="true" layout="Normal"><Font bold="true">JERK</Font></Text-field>
</Input>
</Group>
<Group labelreference="L46261" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d3st:= diff(d2st, time):
#d3SSt := diff(SS_spline(Timer), Timer, Timer, Timer):
d3SSt :=derive_spline(SS_spline(Timer), Timer,3):</Text-field>
</Input>
</Group>
<Group labelreference="L46259" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(profile_data, d3st),time=0..180, color=cc[1],  legend=&quot;exact&quot;),
plot(d3SSt(Timer), Timer=0..180, color=cc[2],  legend=&quot;spline&quot;));</Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">theta1(time) profile</Text-field></Title>
<Group hide-input="false" labelreference="L46280" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">theta1_profile:= piecewise(
time&gt;=0 and time&lt;=85, time^2/45 - trunc(time^2/45 / (2*Pi))*2*Pi,
time&gt;85 and time&lt;=105, -((time - 95)/(4*Pi))^2 + 2*Pi,
time&gt;105 and time&lt;=180, (180-time)^2/36 - trunc((180-time)^2/36 / (2*Pi))*2*Pi):

THETA1 := [ seq(  evalf( subs(profile_data, eval( theta1_profile, time = x ))) , x = 0..180)]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;THETA1&gt; , Timee):
THETA1_spline := unapply(%,[Timee]):</Text-field>
</Input>
</Group>
<Group labelreference="L46298" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(theta1_profile),time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46274" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" bold="true" layout="Normal"><Font bold="true">VELOCITA'</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46304" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dtheta1t:= diff(theta1_profile, time):</Text-field>
</Input>
</Group>
<Group labelreference="L46311" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(dtheta1t,time=0..180, color=cc[1],  legend=&quot;exact&quot;));
</Text-field>
</Input>
</Group>
<Group labelreference="L46266" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" bold="true" layout="Normal"><Font bold="true">ACCELERATION</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46297" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d2theta1t:= diff(dtheta1t, time):
THETA1_ACC_POINTS := [ seq(  evalf( subs(profile_data, eval( d2theta1t, time = x ))) , x = 0..180)]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;THETA1_ACC_POINTS&gt; , Timer):
d2THETA1t_spline := unapply(%,[Timer]):</Text-field>
</Input>
</Group>
<Group labelreference="L46276" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(d2THETA1t_spline(Timer),Timer=0..180, color=cc[2],  legend=&quot;spline&quot;),
plot(d2theta1t,time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46267" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" bold="true" layout="Normal"><Font bold="true">JERK</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46246" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d3theta1t:= diff(d2theta1t, time):
d3THETA1t :=derive_spline(d2THETA1t_spline(Timer), Timer,1):</Text-field>
</Input>
</Group>
<Group labelreference="L46244" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(d3theta1t,time=0..180, color=cc[1],  legend=&quot;exact&quot;),
plot(d3THETA1t(Timer),Timer=0..180, color=cc[2],  legend=&quot;spline&quot;));</Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">theta5(time) profile</Text-field></Title>
<Group hide-input="false" labelreference="L46308" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">theta5_profile:= piecewise(
time&gt;=0 and time&lt;=45, time^2/45 - trunc(time^2/45 / (2*Pi))*2*Pi,
time&gt;45 and time&lt;=90, (90-time)^2/45 - trunc((90-time)^2/45 / (2*Pi))*2*Pi,
time&gt;90 and time&lt;=135, (time-90)^2/45 - trunc((time-90)^2/45 / (2*Pi))*2*Pi,
time&gt;105 and time&lt;=180, (180-time)^2/36 - trunc((180-time)^2/36 / (2*Pi))*2*Pi):

THETA5 := [ seq(  evalf( subs(profile_data, eval( theta5_profile, time = x ))) , x = 0..180)]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;THETA5&gt; , Timee):
THETA5_spline := unapply(%,[Timee]):
</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46247" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Equation executable="true" style="2D Math" input-equation="" display="LUkjbWlHNiMvSSttb2R1bGVuYW1lRzYiSSxUeXBlc2V0dGluZ0dJKF9zeXNsaWJHRic2J1EpUE9TSVRJT05GJy8lJWJvbGRHUSV0cnVlRicvJSdpdGFsaWNHRi4vJSxtYXRodmFyaWFudEdRLGJvbGQtaXRhbGljRicvJStmb250d2VpZ2h0R1ElYm9sZEYn">LUkjbWlHNiMvSSttb2R1bGVuYW1lRzYiSSxUeXBlc2V0dGluZ0dJKF9zeXNsaWJHRic2J1EpUE9TSVRJT05GJy8lJWJvbGRHUSV0cnVlRicvJSdpdGFsaWNHRi4vJSxtYXRodmFyaWFudEdRLGJvbGQtaXRhbGljRicvJStmb250d2VpZ2h0R1ElYm9sZEYn</Equation></Text-field>
</Input>
</Group>
<Group labelreference="L46252" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(profile_data,theta5_profile),time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46286" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" bold="true" layout="Normal"><Font bold="true">VELOCITY</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46302" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dtheta5t:= diff(theta5_profile, time):</Text-field>
</Input>
</Group>
<Group labelreference="L46277" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(dtheta5t,time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46295" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" bold="true" layout="Normal"><Font bold="true">ACCELERATION</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46255" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d2theta5t:= diff(dtheta5t, time):
d2THETA5t := diff(THETA5_spline(Timer), Timer, Timer):
THETA5_ACC_POINTS := [ seq(  evalf( subs(profile_data, eval( d2theta5t, time = x ))) , x = 0..180)]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;THETA5_ACC_POINTS&gt; , Timer):
d2THETA5t_spline := unapply(%,[Timer]):</Text-field>
</Input>
</Group>
<Group labelreference="L46257" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(d2THETA5t_spline(Timer),Timer=0..180, color=cc[2],  legend=&quot;spline&quot;),
plot(d2theta5t,time=0..180, color=cc[1],  legend=&quot;exact&quot;, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46269" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">JERK</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46248" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d3theta5t:= diff(d2theta5t, time):
d3THETA5t := derive_spline(d2THETA5t_spline(Timer), Timer,1):</Text-field>
</Input>
</Group>
<Group labelreference="L46249" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(d3theta5t,time=0..180, color=cc[1],  legend=&quot;exact&quot;),
plot(d3THETA5t(Timer),Timer=0..180, color=cc[2],  legend=&quot;spline&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46272" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">theta6(time) profile</Text-field></Title>
<Group hide-input="false" labelreference="L46253" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">theta6_profile:= piecewise(
time&gt;=0 and time&lt;=45, sin(2*Pi*(f_0*time+((f_1-f_0)/2*T)*time^2)),
time&gt;45 and time&lt;=90, sin(2*Pi*(f_0*(90-time)+((f_1-f_0)/2*T)*(90-time)^2)), 
time&gt;90 and time&lt;=140, sin(2*Pi*(f_0*(time-90)+((f_1-f_0)/2*T)*(time-90)^2)), 
time&gt;140 and time&lt;=180, sin(2*Pi*(f_0*(180-time)+((f_1-f_0)/2*T)*(180-time)^2))):

THETA6 := [ seq(  evalf( subs(profile_data, eval( theta6_profile, time = x ))) , x = 0..180)]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;THETA6&gt; , Timee):
THETA6_spline := unapply(%,[Timee]):</Text-field>
</Input>
</Group>
<Group labelreference="L46264" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" bold="true" layout="Normal"><Font bold="true">POSITION</Font></Text-field>
</Input>
</Group>
<Group labelreference="L46303" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(profile_data,theta6_profile),time=0..180, color=cc[1],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46258" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" bold="true" layout="Normal"><Font bold="true">VELOCITY</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46250" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dtheta6t:= diff(theta6_profile, time):</Text-field>
</Input>
</Group>
<Group labelreference="L46313" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(profile_data,dtheta6t),time=0..180, color=cc[2],  legend=&quot;exact&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46305" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" bold="true" layout="Normal"><Font bold="true">ACCELERATION</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46256" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d2theta6t:= diff(dtheta6t, time):
d2THETA6t:= diff(THETA6_spline(Timer), Timer, Timer):
THETA6_ACC_POINTS := [ seq(  evalf( subs(profile_data, eval( d2theta6t, time = x ))) , x = 0..180)]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;THETA6_ACC_POINTS&gt; , Timer):
d2THETa6t_spline := unapply(%,[Timer]):</Text-field>
</Input>
</Group>
<Group labelreference="L46268" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(subs(f_0 = 1/(Pi*3000), f_1= 1/(Pi*6000), T=60, d2theta6t),time=0..180, color=cc[1],  legend=&quot;exact&quot;),
plot(d2THETA6t(Timer),Timer=0..180, color=cc[2],  legend=&quot;spline&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46316" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">JERK</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L46287" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">d3theta6t:= diff(d2theta6t, time):
d3THETA6t := derive_spline(d2THETa6t_spline(Timer), Timer,1):</Text-field>
</Input>
</Group>
<Group labelreference="L46289" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display(
plot(d3THETA6t(Timer),Timer=0..180, color=cc[2],  legend=&quot;spline&quot;));</Text-field>
</Input>
</Group>
<Group labelreference="L46315" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L48956" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJw==</Equation></Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">Dependent Variables profile</Text-field></Title>
<Group labelreference="L48963" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">qd_vars_profile := Vector( [ seq( [ evalf( subs( eval( s(t) = s_profile, time = x ) , profile_data, kin) ) ] , x=0..180) ] ):
display( 
plot(   [  seq(  [  i  ,  rhs(qd_vars_profile[i][1]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](qd_vars_profile)  )  ] ,color=cc[1],legend=typeset(qd_vars[1]) ),
plot(   [  seq(  [  i  ,  rhs(qd_vars_profile[i][2]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](qd_vars_profile)  )  ] ,color=cc[2],legend=typeset(qd_vars[2]) ),
         labels = [typeset(s,&quot;[m]&quot;),pos],
         title = &quot;Position&quot;);</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L48964" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">(*qd_vars_profile_spline := Vector( [ seq( [ evalf( subs( eval( s(t) = SS_spline(Timer), Timer = x ) , profile_data, kin) ) ] , x=0..180) ] ):
display( 
plot(   [  seq(  [  i  ,  rhs(qd_vars_profile_spline[i][1]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](qd_vars_profile_spline)  )  ] ,color=cc[1],legend=typeset(qd_vars[1]) ),
plot(   [  seq(  [  i  ,  rhs(qd_vars_profile_spline[i][2]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](qd_vars_profile_spline)  )  ] ,color=cc[2],legend=typeset(qd_vars[2]) ),
         labels = [typeset(s,&quot;[m]&quot;),pos],
         title = &quot;Position Spline&quot;);*)</Text-field>
</Input>
</Group>
<Group labelreference="L48965" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L48960" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">subs_dst_profile := Vector( [ seq( [ evalf( subs( profile_data, time = x, dst) ) ] , x=0..180 ) ] ):
qd_vars_vel_profile := Vector( [ seq( [ evalf( subs( data, diff(s(t),t) = subs_dst_profile[x+1] , eval( s(t) = s_profile, time = x ), profile_data, subs_qd_vars_vel ) ) ], x = 0..180)]):
display( 
plot(   [  seq(  [  i  ,  eval(subs(qd_vars_profile[i], rhs(qd_vars_vel_profile[i][1])) * 180/Pi) ]  ,  i=1..LinearAlgebra[Dimension](qd_vars_vel_profile)  )  ] ,color=cc[1],legend=typeset(diff(qd_vars[1],t)) ),
plot(   [  seq(  [  i  ,  eval(subs(qd_vars_profile[i], rhs(qd_vars_vel_profile[i][2])) * 180/Pi) ]  ,  i=1..LinearAlgebra[Dimension](qd_vars_vel_profile)  )  ] ,color=cc[2],legend=typeset(diff(qd_vars[2],t)) ),
         labels = [typeset(s,&quot;[m]&quot;),vel],
         title = &quot; Velocity&quot;);</Text-field>
</Input>
</Group>
<Group labelreference="L48968" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L48973" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">subs_d2st_profile := Vector( [ seq( [ evalf( subs( profile_data, time = x, d2st ) ) ] , x = 0..180) ] ):
qd_vars_acc_profile := Vector([seq([evalf(subs(data, s__dot__dot = subs_d2st_profile[x+1], s__dot2 = (subs_dst_profile[x+1])^2 , eval( s(t) = s_profile, time=x), profile_data, subs_qd_vars_acc))], x=0..180)]):

display( 
plot(   [  seq(  [  i  ,  eval(subs(qd_vars_profile[i], qd_vars_vel_profile[i], rhs(qd_vars_acc_profile[i][1])) * 180/Pi) ]  ,  i=1..LinearAlgebra[Dimension](qd_vars_acc_profile)  )  ] ,color=cc[1],legend=typeset(diff(qd_vars[2],t,t)) ),
plot(   [  seq(  [  i  ,  eval(subs(qd_vars_profile[i], qd_vars_vel_profile[i], rhs(qd_vars_acc_profile[i][2])) * 180/Pi) ]  ,  i=1..LinearAlgebra[Dimension](qd_vars_acc_profile)  )  ] ,color=cc[2],legend=typeset(diff(qd_vars[2],t,t)) ),
         labels = [typeset(s,&quot;[m]&quot;),vel],
         title = &quot; Acceleration&quot;);
d2st:= diff(dst, time):</Text-field>
</Input>
</Group>
<Group labelreference="L48974" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">JERK</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L48979" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">ACC_POINTS_theta2 := [  seq(   eval(subs(qd_vars_profile[i], qd_vars_vel_profile[i], rhs(qd_vars_acc_profile[i][1])) * 180/Pi)   ,  i=1..LinearAlgebra[Dimension](qd_vars_acc_profile)  )  ]:
ACC_POINTS_theta4 := [  seq(  eval(subs(qd_vars_profile[i], qd_vars_vel_profile[i], rhs(qd_vars_acc_profile[i][2])) * 180/Pi)  ,  i=1..LinearAlgebra[Dimension](qd_vars_acc_profile)  )  ]:
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;ACC_POINTS_theta2&gt; , Timer):
d2THETa2t_spline := unapply(%,[Timer]):
CurveFitting:-Spline( &lt; [seq(i, i=0..180)] &gt; , &lt;ACC_POINTS_theta4&gt; , Timer):
d2THETa4t_spline := unapply(%,[Timer]):
qd_vars_jerk_profile:=Vector([derive_spline(d2THETa2t_spline(Timer), Timer,1),derive_spline(d2THETa4t_spline(Timer), Timer,1)]):</Text-field>
</Input>
</Group>
<Group labelreference="L48977" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display( 
plot(qd_vars_jerk_profile[1](Timer),Timer=0..180, color=cc[1],  legend=&quot;jerk Theta2&quot;),
plot(qd_vars_jerk_profile[2](Timer),Timer=0..180, color=cc[2],  legend=&quot;jerk Theta4&quot;),
         labels = [typeset(s,&quot;[m]&quot;),vel],
         title = &quot; Jerk&quot;);
d2st:= diff(dst, time):</Text-field>
</Input>
</Group>
<Group labelreference="L48969" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L48966" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L48978" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">
(*
qd_vars_jerk_profile := Vector([seq([evalf(subs(data, s__dot__dot_dot = subs_d2st_profile[x+1], s__dot2 = (subs_dst_profile[x+1])^2 , eval( s(t) = s_profile, time=x), profile_data, subs_qd_jerk_acc))], x=0..180)]):
display( 
plot(   [  seq(  [  i  ,  eval(subs(qd_vars_profile[i], qd_vars_vel_profile[i], rhs(qd_vars_acc_profile[i][1])) * 180/Pi) ]  ,  i=1..LinearAlgebra[Dimension](qd_vars_acc_profile)  )  ] ,color=cc[1],legend=typeset(diff(qd_vars[2],t,t)) ),
plot(   [  seq(  [  i  ,  eval(subs(qd_vars_profile[i], qd_vars_vel_profile[i], rhs(qd_vars_acc_profile[i][2])) * 180/Pi) ]  ,  i=1..LinearAlgebra[Dimension](qd_vars_acc_profile)  )  ] ,color=cc[2],legend=typeset(diff(qd_vars[2],t,t)) ),
         labels = [typeset(s,&quot;[m]&quot;),vel],
         title = &quot; Acceleration&quot;);
d2st:= diff(dst, time):
*)</Text-field>
</Input>
</Group>
<Group labelreference="L48959" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group>
<Group labelreference="L48976" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">Seat Profile</Text-field></Title>
<Group hide-input="false" labelreference="L48970" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Seat := comp_XYZ(project(origin(RFSeat), RF0));</Text-field>
</Input>
</Group>
<Group labelreference="L48975" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">POSITION</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L48971" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">seat_profile := Vector( [ seq( [ subs( data,
evalf( subs(profile_data, eval( s(t) = s_profile, time = x ))), 
eval( theta2(t) = rhs(qd_vars_profile[x+1][1]), time = x), 
eval( theta4(t) = rhs(qd_vars_profile[x+1][2]), time = x), 
evalf( subs(profile_data, eval( theta1(t) = theta1_profile, time = x ))), 
evalf( subs(profile_data, eval( theta5(t) = theta5_profile, time = x ))), 
evalf( subs(profile_data, eval( theta6(t) = theta6_profile, time = x ))),
[Seat]) ] , x=0..180) ] ):
display( 
plot(   [  seq(  [  i  ,  seat_profile[i][1] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile)  )  ] ,color=cc[1],legend=typeset(x) ),
plot(   [  seq(  [  i  ,  seat_profile[i][2] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile)  )  ] ,color=cc[2],legend=typeset(y) ), 
plot(   [  seq(  [  i  ,  seat_profile[i][3] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile)  )  ] ,color=cc[3],legend=typeset(z) ), 
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot; Position &quot;);</Text-field>
</Input>
</Group>
<Group labelreference="L48961" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">VELOCITY</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L48972" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">diff(RFSeat, t).RFSeat.Seat:</Text-field>
</Input>
</Group>
<Group labelreference="L48967" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">_seat_profile_vel := [diff(Seat[1], t), diff(Seat[2], t), diff(Seat[3], t)]:</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L48980" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">seat_profile_vel := Vector( [ seq( [ subs( data,

evalf( subs(profile_data, eval( diff(s(t),t) = dst, time = x ))), 
eval( diff(theta2(t),t) = rhs(qd_vars_vel_profile[x+1][1]), time = x), 
eval( diff(theta4(t),t) = rhs(qd_vars_vel_profile[x+1][2]), time = x), 
evalf( subs(profile_data, eval( diff(theta1(t),t) = dtheta1t, time = x ))), 
evalf( subs(profile_data, eval( diff(theta5(t),t) = dtheta5t, time = x ))), 
evalf( subs(profile_data, eval( diff(theta6(t),t) = dtheta6t, time = x ))),

evalf( subs(profile_data, eval( s(t) = s_profile, time = x ))), 
eval( theta2(t) = rhs(qd_vars_profile[x+1][1]), time = x), 
eval( theta4(t) = rhs(qd_vars_profile[x+1][2]), time = x), 
evalf( subs(profile_data, eval( theta1(t) = theta1_profile, time = x ))), 
evalf( subs(profile_data, eval( theta5(t) = theta5_profile, time = x ))), 
evalf( subs(profile_data, eval( theta6(t) = theta6_profile, time = x ))),
[_seat_profile_vel]) ] , x=0..180) ] ):

display( 
plot(   [  seq(  [  i  ,  seat_profile_vel[i][1][1] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_vel)  )  ] ,color=cc[1],legend=typeset(x_dot) ),
plot(   [  seq(  [  i  ,  seat_profile_vel[i][1][2] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_vel)  )  ] ,color=cc[2],legend=typeset(y_dot) ), 
plot(   [  seq(  [  i  ,  seat_profile_vel[i][1][3] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_vel)  )  ] ,color=cc[3],legend=typeset(z_dot) ), 
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot; Velocity &quot;);</Text-field>
</Input>
</Group>
<Group labelreference="L50437" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display( 
plot(   [  seq(  [  i  ,  seat_profile[i][2] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile)  )  ] ,color=cc[1],legend=typeset(x) ),
plot(   [  seq(  [  i  ,  seat_profile_vel[i][1][2] ]  ,  i=1..LinearAlgebra[Dimension](seat_profile_vel)  )  ] ,color=cc[2],legend=typeset(x_dot) ), 
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot; Position &amp; Velocity &quot;);</Text-field>
</Input>
</Group>
</Section>
</Section>
<Section collapsed="true" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1"><Font size="24">Rehonomous Constraints with motion profiles</Font></Text-field></Title>
<Group labelreference="L50441" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">PSI_motion_profile := PPhi union 
[s(t) - subs({time=t}, profile_data, s_profile)] union 
[theta1(t) - subs({time=t}, profile_data, theta1_profile)] union 
[theta5(t) - subs({time=t}, profile_data, theta5_profile)] union 
[theta6(t) - subs({time=t}, profile_data, theta6_profile)]:</Text-field>
</Input>
</Group>
<Group labelreference="L50439" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L50444" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font size="18">Position</Font></Text-field>
</Input>
</Group>
<Group labelreference="L50442" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">kin_augmented_pw := solve(subs(data,PSI_motion_profile), q_vars):</Text-field>
</Input>
</Group>
<Group labelreference="L50443" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">kin_solutions_pw := Vector( [ seq( subs(t=x, kin_augmented_pw), x=0..180) ] ):
display( 
plot(   [  seq(  [  i  ,  rhs(kin_solutions_pw[i][1][1])  ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions)  )  ] ,color=cc[1],legend=typeset(q_vars[1]) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_pw[i][1][2]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions)  )  ] ,color=cc[2],legend=typeset(q_vars[2]) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_pw[i][1][3]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions)  )  ] ,color=cc[3],legend=typeset(q_vars[3]) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_pw[i][1][4]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions)  )  ] ,color=cc[4],legend=typeset(q_vars[4]) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_pw[i][1][5]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions)  )  ] ,color=cc[5],legend=typeset(q_vars[5]) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_pw[i][1][6]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions)  )  ] ,color=cc[6],legend=typeset(q_vars[6]) ),
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot;Position&quot;);</Text-field>
</Input>
</Group>
<Group labelreference="L50440" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group><Presentation-Block>
<Group view="code" labelreference="L50446" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font size="18">Velocity</Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L50449" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Aug_Jac_pw := jacobianF(PSI_motion_profile, q_vars); Rank(%) = Dimension(Aug_Jac_pw):
solve(Determinant(subs(data,Aug_Jac_pw))): #Aug_Jac in Not Singular</Text-field>
</Input>
</Group></Presentation-Block>
<Group hide-input="false" labelreference="L50438" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">q_vars_dot_pw := -(MatrixInverse(Aug_Jac_pw)).&lt;diff(PSI_motion_profile,t)&gt;:
subs_q_vars_vel_pw := [seq( diff(q_vars[i],t) = solve(q_vars_dot_pw[i],diff(q_vars[i],t)),i=1..Dimension(q_vars_dot_pw))]:

placeholder := [seq( diff(q_vars[i],t) =v__q_vars[i],i=1..Dimension(q_vars_dot))];
placeholder_opposite := [seq( v__q_vars[i]=diff(q_vars[i],t),i=1..Dimension(q_vars_dot))];</Text-field>
</Input>
</Group>
<Group labelreference="L50448" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">kin_solutions_vel_pw := Vector( [ seq( [eval(subs(t=x,kin_solutions_pw[x+1][1],subs(placeholder, data,  subs_q_vars_vel_pw)))]  , x = 0..180) ] ): 
display( 
plot(   [  seq(  [  i  ,  rhs(kin_solutions_vel_pw[i][1])  ]          ,  i=1..LinearAlgebra[Dimension](kin_solutions_vel_pw)  )  ] ,color=cc[1], legend=typeset(diff(q_vars[1],t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_vel_pw[i][2]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_vel_pw)  )  ] ,color=cc[2], legend=typeset(diff(q_vars[2],t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_vel_pw[i][3]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_vel_pw)  )  ] ,color=cc[3], legend=typeset(diff(q_vars[3],t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_vel_pw[i][4]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_vel_pw)  )  ] ,color=cc[4], legend=typeset(diff(q_vars[4],t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_vel_pw[i][5]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_vel_pw)  )  ] ,color=cc[5], legend=typeset(diff(q_vars[5],t)) ),
plot(   [  seq(  [  i  ,  rhs(kin_solutions_vel_pw[i][6]) * 180/Pi ]  ,  i=1..LinearAlgebra[Dimension](kin_solutions_vel_pw)  )  ] ,color=cc[6], legend=typeset(diff(q_vars[6],t)) ),
         labels = [typeset(t,&quot;[s]&quot;),pos],
         title = &quot;Velocity&quot;);</Text-field>
</Input>
</Group>
<Group labelreference="L50447" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L50445" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"># TO BE CONTINUED IF TIME ALLOWS IT</Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1"><Font size="24">Animation</Font></Text-field></Title>
<Group hide-input="false" labelreference="L42965" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dof:={s(t)=40+sin(time)*10,theta1(t)=time,theta5(t)=-time,theta6(t)=-time}: 
animate(draw_mech, [kin, data, dof], time =0 .. 2*Pi);
</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L47656" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#dof:={s(t)=subs(t=time,s_profile_time),theta1(t)=subs(t=time,theta1_profile_time),theta5(t)=subs(t=time,theta5_profile_time),theta6(t)=subs(t=time,theta6_profile_time)};
#animate(draw_mech, [kin, data, subs(profile_data, dof)], time=0..180,frames=180); # Think twice before executing 180 frames of those profile (&gt;300MB file)</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L42964" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#dof:={s(t)=s_profile,theta1(t)=theta1_profile,theta5(t)=theta5_profile,theta6(t)=theta6_profile}:
#animate(draw_mech, [kin, data, subs(profile_data, dof)], time=0..180,frames=180); # Think twice before executing 180 frames of those profile (&gt;300MB file)</Text-field>
</Input>
</Group>
<Group labelreference="L46888" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1"><Font size="24">Dynamics</Font></Text-field></Title><Presentation-Block>
<Group view="code" hide-input="false" labelreference="L50589" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">masses := {m1= 3000,m2 = 500,m3 = 500,m4 = 4000,m5 = 750,m6 = 150}:
inertias := {IZ1 = ((L2/2)^2)*m1, IX2 =((L3/2)^2)*m2, IX3 = ((L4/2)^2)*m3, IX4 = ((L5)^2)*m4, IX5 = ((L7)^2)*m5, IZ6 =((L9)^2)*m6}:
#TorFor := {c1 = 100000000*sin(t), prism = 300*cos(t), c2 = 3*sin(t), c3 = 3*sin(t), c4 = 3*sin(t), c5 = 3*sin(t), c6 = 0}: # Not used anymore</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L50592" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Centers of Mass</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L50594" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">G1 := make_POINT(RF1_r, 0,0, L2/2): 
G2 := make_POINT(RF2_r, L3/2,0,0):  
G3 := make_POINT(RFp_3r, L4/2,0,0):
G4 := make_POINT(RFp_4r, L5,0,0):
G5 := make_POINT(RF5_r,L7,0,0):
GSeat := make_POINT(RF6_r,0,0,-L9/2):</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L50590" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Definition of <Font bold="true">bodies</Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L50593" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">B1 := make_BODY(G1, m1, 0,0,IZ1):
B2 := make_BODY(G2, m2, IX2,0,0):
B3 := make_BODY(G3, m3, IX3,0,0):
B4 := make_BODY(G4, m4, IX4,0,0):
B5 := make_BODY(G5, m5, IX5,0,0):
BSeat := make_BODY(GSeat, m6, 0,0,IZ6): show(%):</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L50596" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Joints</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L50597" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">rev_1 := make_TORQUE(RF1_r,0,0,c1(t),B1):
pris := make_FORCE(RFp_2r,prism(t),0,0,Pp_2r, B3, B2):
#rev_2 := make_TORQUE(RF2_r,0,c2(t),0,B2,B1):
#rev_3 := make_TORQUE(RF3_r,0,c3(t),0,B3,B4):
#rev_4 := make_TORQUE(RF4_r,0,c4(t),0,B4,B1):
rev_5 := make_TORQUE(RF5_r,0,0,c5(t),B5,B4):
rev_Seat := make_TORQUE(RF6_r,0,c6(t),0,BSeat,B5):</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L50598" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[192,192,192]" layout="Normal"><Font foreground="[192,192,192]">External forces, we will use the alternative</Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L50587" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font foreground="[192,192,192]">#weight1 := make_FORCE(make_VECTOR(ground,0,-m1*g,0), G1, B1);
#weight2 := make_FORCE(make_VECTOR(ground,0,-m2*g,0), G2, B2);
#weight3 := make_FORCE(make_VECTOR(ground,0,-m3*g,0), G3, B3);
#weight4 := make_FORCE(make_VECTOR(ground,0,-m4*g,0), G4, B4);
#weight5 := make_FORCE(make_VECTOR(ground,0,-m5*g,0), G5, B5);
#weight6 := make_FORCE(make_VECTOR(ground,0,-m6*g,0), G6, B6);</Font>
</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L50588" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">We define the gravity and MBSymba will take into account gravitational forces</Font></Text-field>
</Input>
</Group>
<Group view="code" labelreference="L50591" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font foreground="[128,0,0]">_gravity := make_VECTOR(ground,0,-9.81,0):</Font></Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L50760" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"></Text-field><Text-field style="Text" layout="Normal"><Font bold="true">LAGRANGE EQUATIONS</Font></Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group hide-input="false" hide-output="false" labelreference="L50755" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#lvars := [seq(lambda||i(t),i=1..nops(q_vars))];
#constraints := make_CONSTRAINT(PSI, convert(lvars,list));</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L50763" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">lvars := [seq(lambda||i(t),i=1..nops(qd_vars))];
constraints := make_CONSTRAINT(PPhi, convert(lvars,list));</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L50749" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Coords := convert(q_vars union lvars,list);</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L50768" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">mbs := {B1, B2, B3, B4, B5, BSeat,rev_1,pris,rev_5, rev_Seat, constraints}; # rev_3, rev_2,rev_4,</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L50757" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Multibody system</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L50758" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dae_sys := combine(simplify(lagrange_equations(mbs,Coords,t))):</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L50752" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L51636" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Test of profiles define below</Text-field><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#trtrd := subs({lambda1(t) = lambda1, lambda2(t)=lambda2, c1(t)=c1, prism(t)=prism, c5(t)=c5, c6(t)=c6},data, masses, inertias,dae_sys[1]):
#evalf(subs(all_acc[1], all_vel[1], all_pos[1],trtrd));</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L51637" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group></Presentation-Block>
<Group labelreference="L51585" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" layout="Heading 3">Inverse dynamics</Text-field>
</Input>
</Group>
<Group labelreference="L51597" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Known dynamics from rehonomous system: with differentiation we ca get velocities and accelerations and then solve the full linear system to get ode+algebraic solutions</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L51594" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Phi_dot  := diff(PPhi,t):
Phi_dot2 := diff(PPhi,t,t):
</Text-field>
</Input>
</Group>
<Group labelreference="L51589" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Equations of inverse dynamics: only acceleration of imposed dynamics are added.
Velocities and position of imposed dynamics will be substituted later (considered known)</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L51577" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">nq := nops(q_vars):
inv_dyn_eqns := dae_sys[1..nq] union Phi_dot2: &lt;%&gt;:
nops(%%)</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L51582" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">a_vars := [c1(t), c5(t), c6(t), prism(t)]:
l_vars := [l1(t), l2(t)]:
qi_vars := { s(t), theta1(t), theta5(t), theta6(t)}:
inv_dyn_vars := diff(qi_vars,t,t) union lvars:</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L51596" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">AA,bb := LinearAlgebra:-GenerateMatrix(inv_dyn_eqns,inv_dyn_vars): Dimension(%[1]);
#subs(data,Phi1,Phi2,data_rot,AA):
#eval(%,t=0);
#LinearAlgebra:-MatrixInverse(%);</Text-field>
</Input>
</Group>
<Group labelreference="L51745" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Evaluations of Position, Velocity, Acceleration</Text-field>
</Input>
</Group>
<Group labelreference="L53408" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYmLUkjbWlHRiQ2JVElcGxvdEYnLyUnaXRhbGljR1EldHJ1ZUYnLyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy1JKG1mZW5jZWRHRiQ2JC1GIzYwLUkjbW5HRiQ2JFEjNDJGJy9GM1Enbm9ybWFsRictSSNtb0dGJDYtUSIrRidGPi8lJmZlbmNlR1EmZmFsc2VGJy8lKnNlcGFyYXRvckdGRi8lKXN0cmV0Y2h5R0ZGLyUqc3ltbWV0cmljR0ZGLyUobGFyZ2VvcEdGRi8lLm1vdmFibGVsaW1pdHNHRkYvJSdhY2NlbnRHRkYvJSdsc3BhY2VHUSwwLjIyMjIyMjJlbUYnLyUncnNwYWNlR0ZVRjotRkE2LVEnJnNkb3Q7RidGPkZERkdGSUZLRk1GT0ZRL0ZUUSYwLjBlbUYnL0ZXRmZuLUYsNiVRJHNpbkYnL0YwRkZGPi1GNjYkLUYjNiYtSSZtZnJhY0dGJDYoLUYsNiVRInRGJ0YvRjItRiM2NS1GLDYlUSNQaUYnRltvRj5GWEZob0ZYRmhvRlhGaG9GWEZoby1GQTYtUSgmbWludXM7RidGPkZERkdGSUZLRk1GT0ZRRlNGVi1GOzYkUSIyRidGPkZYLUZBNi1RIn5GJ0Y+RkRGR0ZJRktGTUZPRlFGZW5GZ25GaG9GWEZhcEZob0YvRjIvJS5saW5ldGhpY2tuZXNzR1EiMUYnLyUrZGVub21hbGlnbkdRJ2NlbnRlckYnLyUpbnVtYWxpZ25HRmlwLyUpYmV2ZWxsZWRHRkYtRiw2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHRkZGLy8lKnVuZGVybGluZUdGRi8lKnN1YnNjcmlwdEdGRi8lLHN1cGVyc2NyaXB0R0ZGLyUrZm9yZWdyb3VuZEdRKFswLDAsMF1GJy8lK2JhY2tncm91bmRHUS5bMjU1LDI1NSwyNTVdRicvJSdvcGFxdWVHRkYvJStleGVjdXRhYmxlR0ZGLyUpcmVhZG9ubHlHRkYvJSljb21wb3NlZEdGRi8lKmNvbnZlcnRlZEdGRi8lK2ltc2VsZWN0ZWRHRkYvJSxwbGFjZWhvbGRlckdGRi8lNnNlbGVjdGlvbi1wbGFjZWhvbGRlckdGRkYyRmdyRj5GPi1GQTYtUSIsRidGPkZEL0ZIRjFGSUZLRk1GT0ZRRmVuL0ZXUSwwLjMzMzMzMzNlbUYnRmNvLUZBNi1RIj1GJ0Y+RkRGR0ZJRktGTUZPRlEvRlRRLDAuMjc3Nzc3OGVtRicvRldGX3QtRjs2JFEiMEYnRj4tRkE2LVEjLi5GJ0Y+RkRGR0ZJRktGTUZPRlFGU0Znbi1GOzYkUSUxODAwRidGPkZnckY+Rj5GZ3JGPg==">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYmLUkjbWlHRiQ2JVElcGxvdEYnLyUnaXRhbGljR1EldHJ1ZUYnLyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy1JKG1mZW5jZWRHRiQ2JC1GIzYwLUkjbW5HRiQ2JFEjNDJGJy9GM1Enbm9ybWFsRictSSNtb0dGJDYtUSIrRidGPi8lJmZlbmNlR1EmZmFsc2VGJy8lKnNlcGFyYXRvckdGRi8lKXN0cmV0Y2h5R0ZGLyUqc3ltbWV0cmljR0ZGLyUobGFyZ2VvcEdGRi8lLm1vdmFibGVsaW1pdHNHRkYvJSdhY2NlbnRHRkYvJSdsc3BhY2VHUSwwLjIyMjIyMjJlbUYnLyUncnNwYWNlR0ZVRjotRkE2LVEnJnNkb3Q7RidGPkZERkdGSUZLRk1GT0ZRL0ZUUSYwLjBlbUYnL0ZXRmZuLUYsNiVRJHNpbkYnL0YwRkZGPi1GNjYkLUYjNiYtSSZtZnJhY0dGJDYoLUYsNiVRInRGJ0YvRjItRiM2NS1GLDYlUSNQaUYnRltvRj5GWEZob0ZYRmhvRlhGaG9GWEZoby1GQTYtUSgmbWludXM7RidGPkZERkdGSUZLRk1GT0ZRRlNGVi1GOzYkUSIyRidGPkZYLUZBNi1RIn5GJ0Y+RkRGR0ZJRktGTUZPRlFGZW5GZ25GaG9GWEZhcEZob0YvRjIvJS5saW5ldGhpY2tuZXNzR1EiMUYnLyUrZGVub21hbGlnbkdRJ2NlbnRlckYnLyUpbnVtYWxpZ25HRmlwLyUpYmV2ZWxsZWRHRkYtRiw2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHRkZGLy8lKnVuZGVybGluZUdGRi8lKnN1YnNjcmlwdEdGRi8lLHN1cGVyc2NyaXB0R0ZGLyUrZm9yZWdyb3VuZEdRKFswLDAsMF1GJy8lK2JhY2tncm91bmRHUS5bMjU1LDI1NSwyNTVdRicvJSdvcGFxdWVHRkYvJStleGVjdXRhYmxlR0ZGLyUpcmVhZG9ubHlHRkYvJSljb21wb3NlZEdGRi8lKmNvbnZlcnRlZEdGRi8lK2ltc2VsZWN0ZWRHRkYvJSxwbGFjZWhvbGRlckdGRi8lNnNlbGVjdGlvbi1wbGFjZWhvbGRlckdGRkYyRmdyRj5GPi1GQTYtUSIsRidGPkZEL0ZIRjFGSUZLRk1GT0ZRRmVuL0ZXUSwwLjMzMzMzMzNlbUYnRmNvLUZBNi1RIj1GJ0Y+RkRGR0ZJRktGTUZPRlEvRlRRLDAuMjc3Nzc3OGVtRicvRldGX3QtRjs2JFEiMEYnRj4tRkE2LVEjLi5GJ0Y+RkRGR0ZJRktGTUZPRlFGU0Znbi1GOzYkUSUxODAwRidGPkZnckY+Rj5GZ3JGPg==</Equation></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L53530" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Choose Motion Profile</Text-field><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#pos:={s(t)=s_profile_time, theta1(t)=theta1_profile_time, theta5(t)=theta5_profile_time, theta6(t)=theta6_profile_time }:
#pos:={s(t)=sin(t)*80, theta1(t)=2*Pi*t, theta5(t)=2*Pi*t, theta6(t)=2*Pi*t }:
#pos:={s(t)=42+42*sin(t/(Pi*Pi*Pi*Pi*Pi-2* Pi* Pi)), theta1(t)=Pi*sin(t/(Pi*Pi*Pi*Pi*Pi-2* Pi* Pi)), theta5(t)=Pi*sin(t/(Pi*Pi*Pi*Pi*Pi-2* Pi* Pi)), theta6(t)=sin(t/(Pi*Pi*Pi*Pi*Pi-2* Pi* Pi))}:
pos:={s(t)=0, theta1(t)=Pi/2, theta5(t)=0, theta6(t)=0}:
pos_d := simplify(subs(pos, kin)):</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L53532" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Define Arrays for solutions</Text-field><Text-field prompt="&gt; " style="Maple Input" layout="Normal">pos := pos union pos_d:
vel := diff(pos,t):
acc := diff(vel, t):
all_pos := Array(1 .. 1800, []):
all_vel := Array(1 .. 1800, []):
all_acc := Array(1 .. 1800, []):</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L51746" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Obtain all the points</Text-field><Text-field prompt="&gt; " style="Maple Input" layout="Normal">for i from 1 by 1 to 1800 do
  if (irem(i,100) = 0) then
     print(i)
  end if:
  nowPos:={};
  nowVel:={};
  nowAcc:={};
  for j from 1 to 6 do
    nowPos:=nowPos union {lhs(pos[j])= subs(t=(i-1)/10, data, rhs(pos[j]))};
    nowVel:=nowVel union {lhs(vel[j])= evalf(subs(nowPos, t=(i-1)/10, data, rhs(vel[j])))};
    nowAcc:=nowAcc union {lhs(acc[j])= evalf(subs(nowVel, nowPos, t=(i-1)/10, data, rhs(acc[j])))};
    #print(nowPos);

  end do:
  all_pos[i]:= evalf(nowPos);
  all_vel[i]:= evalf(nowVel);
  all_acc[i]:= evalf(nowAcc);
end do:</Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L53528" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group>
<Group labelreference="L53874" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">motors_points_f := seq(fsolve(evalf(subs({lambda1(t)=lambda1, lambda2(t)=lambda2, c1(t)=c1, prism(t)=prism, c5(t)=c5, c6(t)=c6},all_acc[i], all_vel[i],all_pos[i], inertias, data, masses, dae_sys))[1..6]),i = 1 .. 1800):</Text-field>
</Input>
</Group>
<Group labelreference="L53875" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L51909" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L51897" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Display of motor profiles</Text-field><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display( 
plot(   [  seq(  [  i  ,  rhs(motors_points[i][1])  ]  ,  i=1..nops([motors_points])  )  ] ,color=cc[1],legend=typeset(c1) ),
plot(   [  seq(  [  i  ,  rhs(motors_points[i][2]) ]  ,  i=1..nops([motors_points])  )  ] ,color=cc[2],legend=typeset(c5) ),
plot(   [  seq(  [  i  ,  rhs(motors_points[i][3]) ]  ,  i=1..nops([motors_points])  )  ] ,color=cc[3],legend=typeset(c6) ),
plot(   [  seq(  [  i  ,  rhs(motors_points[i][4]) ]  ,  i=1..nops([motors_points])  )  ] ,color=cc[4],legend=typeset(l1) ),
plot(   [  seq(  [  i  ,  rhs(motors_points[i][5]) ]  ,  i=1..nops([motors_points])  )  ] ,color=cc[5],legend=typeset(l2) ),
plot(   [  seq(  [  i  ,  rhs(motors_points[i][5]) ]  ,  i=1..nops([motors_points])  )  ] ,color=cc[6],legend=typeset(prism) ),
         labels = [typeset(t,&quot;[s]&quot;),Motors],
         title = &quot;Motors profiles&quot;);</Text-field>
</Input>
</Group><Presentation-Block>
<Group view="code" labelreference="L51803" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJw==</Equation></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L51793" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#dae_sys_sim := simplify(subs(data,masses,inertias, subs_qd_vars_acc, subs_qd_vars_vel, kin_augmented, dae_sys));</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L51797" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">DAE sytem of equations</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" hide-output="false" labelreference="L51804" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dae_vars1 , dae_sys1 := first_order(dae_sys, Coords, t): nops(dae_sys1);
dae_vars1;</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L52091" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group>
<Group view="code" labelreference="L51791" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Pagebreak></Pagebreak>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L51785" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Section" opaque="false" subscript="false" underline="false" superscript="false" bold="false" foreground="[0,0,0]" italic="false" executable="false" selection-placeholder="false" size="12" readonly="false" background="[255,255,255]" placeholder="false" family="Times New Roman" font_style_name="Section" layout="Section" linespacing="0.0" initial="0" firstindent="0" leftmargin="0" layout_style_name="Section" pagebreak-before="false" spaceabove="0" linebreak="space" rightmargin="0" bulletsuffix="" alignment="left" bullet="none" spacebelow="0">Initial conditions for reaction forces</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L51802" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#ics_I := t=1;
#ics_D := op(kin_solutions[2] union {3s__dot(1) = rhs(kin_solutions_vel[2][1]), theta1__dot(1) =  rhs(kin_solutions_vel[2][2]), theta2__dot(1) =  rhs(kin_solutions_vel[2][3]), theta4__dot(1) =  rhs(kin_solutions_vel[2][4]), theta5__dot(1) =  rhs(kin_solutions_vel[2][5]), theta6__dot(1) =  rhs(kin_solutions_vel[2][6])});
#ICS := op({ics_D}):</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L53614" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">down_order(all_vel[1],q_vars,t);</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L51778" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#ics_I := s(0) = evalf(subs(t=0,s_profile_time)), theta1(0) = evalf(subs(t=0,theta1_profile_time)), theta5(0) = evalf(subs(t=0,theta5_profile_time)), theta6(0) = evalf(subs(t=0,theta6_profile_time)), s__dot(0) = 0, theta1__dot(0) = 0, theta5__dot(0) = 0, theta6__dot(0) = 0;

#ics_I := op(subs(t=1, all_pos[2]) union down_order(all_vel[2],q_vars,t));

#ics_D := op( simplify( subs( t=0, ics_I, evalf(subs(t=0,data,ics_I, sol_kine)), subs( diff(s(t),t) = s__dot(t), diff(theta1(t),t) = theta1__dot(t), diff(theta2(t),t) = theta2__dot(t), diff(theta4(t),t) = theta4__dot(t), data,  sol_kine_vel) ) union evalf(subs(t=0,data,ics_I, kin)) ) );

#ICS := op({ics_I} union {ics_D});

ICS := op(subs(t=0, all_pos[1]) union subs(t=0,down_order(all_vel[1],q_vars,t)));</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L53166" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L51837" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Initial conditions for reaction forces</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" hide-output="false" labelreference="L51790" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#dae_sys[1..-nops(PSI)-1] union diff(PSI,t,t):
dae_sys[1..-nops(PPhi)-1] union diff(PPhi,t,t):

AA, BB := GenerateMatrix(%,diff(q_vars,t,t) union lvars):
BB := down_order(BB,q_vars,t):</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" hide-output="false" labelreference="L51788" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">#LinearSolve(evalf(subs(t = 1,ics_D, inertias, data, masses,AA)), evalf(subs(t = 1, ics_D, inertias, TorFor, data, masses,BB)));
LinearSolve(evalf(subs(t = 0, ICS, inertias, data, masses, AA)), evalf(subs(subs(c1=c1(t),c5=c5(t),c6=c6(t),prism(t) = prism, motors_points[1]), t = 0, ICS, inertias, data, masses, BB)));

#ics := subs( t = 1, {ics_D, seq(lvars[i]=%[i+nops(q_vars)],i=1..nops(lvars))});
ics := subs( t = 0, {ICS, seq(lvars[i]=%[i+nops(q_vars)],i=1..nops(lvars))});nops(%):</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L51800" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Numerical solution</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L52198" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">In_Conds := [ICS] union [lambda1(0) = 1, lambda2(0) = 1.007276581*10^(-8)]: # As copied from above, Maple doesn't like floats on the dyn_sys
nops(%):</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" hide-output="false" labelreference="L51777" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">dyn_sys[-14..-1]:</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L52105" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L52212" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Loop for numerical solutions</Text-field><Text-field prompt="&gt; " style="Maple Input" layout="Normal">motor_points := motors_points[1][1..3] union [motors_points[1][5]]:
dyn_sys := {op(subs(inertias, data, subs(c1=c1(t),c5=c5(t), c6=c6(t),prism(t) = prism, motor_points), masses, dae_sys1))} union ics:

sol := dsolve(dyn_sys, numeric, implicit=true);#, maxfun=10^5):

Solutions := Array(1 .. 181, []):
Solutions[1] := sol(0.1)[2..-1]:
index_i := 0:
for i from 1 to 180 do<Font foreground="[192,192,192]">

  </Font>print(i);

  motor_points := motors_points[i][1..3] union [motors_points[i][5]]:

  dyn_sys := {op(subs(inertias, data, subs(c1=c1(t),c5=c5(t),c6=c6(t),prism(t) = prism, motor_points), masses, dae_sys1))} union   subs(t=0,Solutions[i]):

  sol := dsolve(dyn_sys, numeric, implicit=true);#, maxfun=10^9):
  
  Solutions[i+1]:=sol(0.1)[2..-1]:
  
  index_i := i;
end do:</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L53168" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group>
<Group labelreference="L52221" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Motor Profiles</Text-field><Text-field prompt="&gt; " style="Maple Input" layout="Normal">display( 
plot(   [  seq(  [  i  ,  rhs(Solutions[i][3])  ]  ,  i=1..index_i  )  ] ,color=cc[1],legend=typeset(s) ),
plot(   [  seq(  [  i  ,  rhs(Solutions[i][5])*180/Pi ]  ,  i=1..index_i  )  ] ,color=cc[2],legend=typeset(t1) ),
plot(   [  seq(  [  i  ,  rhs(Solutions[i][7])*180/Pi ]  ,  i=1..index_i  )  ] ,color=cc[3],legend=typeset(t2) ),
plot(   [  seq(  [  i  ,  rhs(Solutions[i][9])*180/Pi ]  ,  i=1..index_i  )  ] ,color=cc[4],legend=typeset(t4) ),
plot(   [  seq(  [  i  ,  rhs(Solutions[i][11])*180/Pi ]  ,  i=1..index_i  )  ] ,color=cc[5],legend=typeset(t5) ),
plot(   [  seq(  [  i  ,  rhs(Solutions[i][13])*180/Pi ]  ,  i=1..index_i  )  ] ,color=cc[6],legend=typeset(t6) ),
         labels = [typeset(t,&quot;[s]&quot;),Motors],
         title = &quot;Motors profiles&quot;);</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L52498" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" hide-output="false" labelreference="L51839" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">tf := index_i:
odeplot(sol, subs( inertias, motors_points[1], data, masses,
             [[t,  theta1(t)*180/Pi,              color=cc[1]],
              [t,  s(t),                          color=cc[2]],
              [t,  theta2(t)*180/Pi-180,            color=cc[3]],
              #[t,  theta3(t)*180/Pi-180,            color=cc[4]],
              [t,  theta4(t)*180/Pi-180,            color=cc[5]],
              [t,  theta5(t)*180/Pi-180,            color=cc[6]],
              [t,  theta6(t)*180/Pi-180,            color=cc[7]]]),
        #t = 1..tf,legend=[theta1,s,theta2,theta4,theta5,theta6],
        t = 0..tf,legend=[theta1,s,theta2,theta4,theta5,theta6],
        axes=boxed, axis[2]=[gridlines=[linestyle=dot]],
        title=&quot;Bodies'angles (absolute)&quot;, size=[800,400 ],numpoints=400);</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L51752" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Animate</Font></Text-field>
</Input>
</Group>
<Group view="code" labelreference="L51849" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">draw_mech({}, data, convert(sol(0),set));</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L51751" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">ex := [seq(convert(sol(i),set),i=0..8)]:</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L51863" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">animate(draw_mech_for_animate, [ex, time, data, ex], time = 1 .. 8);</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L51776" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Pagebreak></Pagebreak>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L52197" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L51852" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Matrix form</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" hide-output="false" labelreference="L51857" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">AA,BB := GenerateMatrix(dae_sys1,diff(dae_vars1,t)):
Mass_maybe := AA[1..8,9..-1]:#Not sure it's the real mass matrix, to check
simplify((AA . (Vector(diff(dae_vars1, t)))) - BB - Vector(dae_sys1)); #Evaluated to check </Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" hide-input="false" labelreference="L51772" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">POS := dae_vars1[1..6];
VEL := dae_vars1[9..-3];
ACC := [s__dot__dot(t), theta1__dot__dot(t), theta2__dot__dot(t), theta4__dot__dot(t), theta5__dot__dot(t), theta6__dot__dot(t), lambda1__dot__dot(t), lambda2__dot__dot(t)];
MUL := lvars;
Phi := PPhi;</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L51765" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Extract mass</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" hide-output="false" labelreference="L51763" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Mass,RES := GenerateMatrix(dae_sys1,diff(VEL,t)):Mass:=Mass[1..-9]:</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L51767" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Extract  Phi_q^t</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" hide-output="false" labelreference="L51769" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Phi_q_T,res := GenerateMatrix(dae_sys1,{lambda1(t),lambda2(t)}):DAE_3_Phi_q_t:
Phi_q:=simplify(Transpose(Phi_q_T[1..6])):</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" hide-input="false" labelreference="L51775" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Phi_q_T, res := GenerateMatrix(convert(-RES, list), {lambda1(t), lambda2(t)}):
Phi_q := simplify(Transpose(Phi_q_T[1 .. 6])):</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L51754" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Equation executable="true" style="2D Math" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYnLUkjbWlHRiQ2JVEoRXh0cmFjdEYnLyUnaXRhbGljR1EldHJ1ZUYnLyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy1JI21vR0YkNi1RIn5GJy9GM1Enbm9ybWFsRicvJSZmZW5jZUdRJmZhbHNlRicvJSpzZXBhcmF0b3JHRj0vJSlzdHJldGNoeUdGPS8lKnN5bW1ldHJpY0dGPS8lKGxhcmdlb3BHRj0vJS5tb3ZhYmxlbGltaXRzR0Y9LyUnYWNjZW50R0Y9LyUnbHNwYWNlR1EmMC4wZW1GJy8lJ3JzcGFjZUdGTC1GLDYlUSdmb3JjZXNGJ0YvRjIvJTBmb250X3N0eWxlX25hbWVHUSkyRH5JbnB1dEYnRjk=">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYnLUkjbWlHRiQ2JVEoRXh0cmFjdEYnLyUnaXRhbGljR1EldHJ1ZUYnLyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy1JI21vR0YkNi1RIn5GJy9GM1Enbm9ybWFsRicvJSZmZW5jZUdRJmZhbHNlRicvJSpzZXBhcmF0b3JHRj0vJSlzdHJldGNoeUdGPS8lKnN5bW1ldHJpY0dGPS8lKGxhcmdlb3BHRj0vJS5tb3ZhYmxlbGltaXRzR0Y9LyUnYWNjZW50R0Y9LyUnbHNwYWNlR1EmMC4wZW1GJy8lJ3JzcGFjZUdGTC1GLDYlUSdmb3JjZXNGJ0YvRjIvJTBmb250X3N0eWxlX25hbWVHUSkyRH5JbnB1dEYnRjk=</Equation></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L51771" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">res[-8 .. -1]:</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" hide-input="false" labelreference="L51773" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">gen_forces := res[1 .. -9]:
nops(POS);
nops(VEL);
nops(Mass[1]);</Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L51774" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">A, B, Phi_Q, H, W := DAEindex3ToODE(Mass, Phi, convert(gen_forces, list), POS, VEL):</Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" hide-input="false" labelreference="L51829" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group></Presentation-Block>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 2" layout="Heading 2">Code Generation</Text-field></Title>
<Group hide-input="false" labelreference="L51761" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">VARS     := map2(op,0,[op(POS),op(VEL)]);
REMOVE_T := [seq( POS[i]=op(0,POS[i]),i=1..nops(POS)),
             seq( VEL[i]=op(0,VEL[i]),i=1..nops(VEL)),
             seq( MUL[i]=op(0,MUL[i]),i=1..nops(MUL)),
             seq( ACC[i]=op(0,ACC[i]),i=1..nops(ACC))];</Text-field>
</Input>
</Group>
<Group labelreference="L51764" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font foreground="[0,128,0]">#F_TO_MATLAB( subs(REMOVE_T,</Font>Phi)<Font foreground="[0,128,0]">, VARS, &quot;Phi&quot;);</Font></Text-field>
</Input>
</Group>
<Group labelreference="L51770" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font foreground="[0,128,0]">#JF_TO_MATLAB( subs(REMOVE_T,JACOBIAN(</Font>Phi,POS))<Font foreground="[0,128,0]">, VARS, &quot;Phi&quot;);</Font></Text-field>
</Input>
</Group>
<Group labelreference="L51768" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font foreground="[0,128,0]">#F_TO_MATLAB( subs(REMOVE_T,</Font>Phi)<Font foreground="[0,128,0]">, VARS, &quot;Phi&quot;);</Font></Text-field>
</Input>
</Group>
<Group labelreference="L51762" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font foreground="[0,128,0]">#JF_TO_MATLAB( subs(REMOVE_T,JACOBIAN(</Font>A,POS))<Font foreground="[0,128,0]">, VARS, &quot;A&quot;);</Font></Text-field>
</Input>
</Group>
<Group labelreference="L51760" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font foreground="[0,128,0]">#JF_TO_MATLAB( JACOBIAN(subs(REMOVE_T,H),</Font>VARS)<Font foreground="[0,128,0]">, VARS, &quot;Hx&quot;);</Font></Text-field>
</Input>
</Group>
<Group labelreference="L51759" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font foreground="[0,128,0]">#JF_TO_MATLAB( JACOBIAN(subs(REMOVE_T,W),</Font>VARS)<Font foreground="[0,128,0]">, VARS, &quot;Wx&quot;);</Font></Text-field>
</Input>
</Group>
<Group labelreference="L51766" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
</Section><Presentation-Block>
<Group view="code" labelreference="L51858" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font bold="true">Index Reduction</Font></Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" hide-input="false" labelreference="L51844" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,51,102]" layout="Normal"><Font foreground="[153,51,102]">DAE1, ALG1 := DAEreduceBy1TheIndexBis( dae_sys1, diff(Coords,t) ):
simplify(&lt;DAE1&gt;):
simplify(&lt;ALG1&gt;):</Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L51757" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,51,102]" layout="Normal"><Font foreground="[153,51,102]">DAE2, ALG2 := DAEreduceBy1TheIndexBis( simplify(DAE1), diff(Coords,t) ):
simplify(&lt;DAE2&gt;):
simplify(&lt;ALG2&gt;):</Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L51756" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">#DAE3, ALG3 := DAEreduceBy1TheIndexBis( simplify(DAE2), diff(Coords,t) ): #UnFeasible, but we might be satisfied of an Index-1 DAE
#simplify(&lt;DAE3&gt;):
#simplify(&lt;ALG3&gt;):</Font></Text-field>
</Input>
</Group>
<Group view="code" labelreference="L51755" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYmLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy9GQlEuWzE1MywxNTMsMTUzXUYnRkkvRlhRJ25vcm1hbEYn">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJw==</Equation></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L51813" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">First order DAE index-3</Font></Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">#dae_vars1,dae_sys1 := first_order(dae_sys,Coords,t,true):
nx1 := 6: # number of variables reduced to first order
</Font></Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="presentation" inline-output="false" labelreference="L51753" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Equation executable="true" style="2D Math" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYlLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJ0ZJL0ZYUSdub3JtYWxGJw==">JSFH</Equation></Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group hide-input="false" labelreference="L51810" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Equations are reodered and names of variable changed.</Font></Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">xvars1    := map(x-&gt;convert(StringTools:-Substitute( convert(op(0,x),string),&quot;_&quot;, &quot;__&quot;),symbol)(t),dae_vars1):
ss_xvars1 := [seq(dae_vars1[i]=xvars1[i],i=1..nops(dae_vars1))];
dae_sys1 := subs( ss_xvars1,dae_sys1): </Font></Text-field>
</Input>
</Group>
<Group view="code" hide-input="false" labelreference="L51811" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">dae_sys1 := dae_sys1[-nx1..-1] union dae_sys1[1..nops(Coords)]:&lt;dae_sys1&gt;:</Font></Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group labelreference="L51881" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Section" opaque="false" subscript="false" underline="false" superscript="false" bold="false" foreground="[153,153,153]" italic="false" executable="false" selection-placeholder="false" size="12" readonly="false" background="[255,255,255]" placeholder="false" family="Times New Roman" font_style_name="Section" layout="Section" linespacing="0.0" initial="0" firstindent="0" leftmargin="0" layout_style_name="Section" pagebreak-before="false" spaceabove="0" linebreak="space" rightmargin="0" bulletsuffix="" alignment="left" bullet="none" spacebelow="0">Semi explicit form</Text-field>
</Input>
</Group>
<Group labelreference="L51820" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font bold="true" foreground="[153,153,153]">q</Font><Font foreground="[153,153,153]">' = <Font bold="true">x</Font>
[<Font bold="true">M]</Font> <Font bold="true">x</Font>' +[<Font bold="true">Phi_q]^</Font>T*<Font bold="true">lambda</Font> = <Font bold="true">b</Font>(x,u)</Font></Text-field><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font bold="true" foreground="[153,153,153]">Phi</Font><Font foreground="[153,153,153]"> = 0

That can be writte as semi-explicit form</Font></Text-field>
</Input>
</Group>
<Group labelreference="L51866" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">[<Font bold="true">A</Font>] <Font bold="true">z</Font>' = <Font bold="true">f</Font>(<Font bold="true">z</Font>,<Font bold="true">u</Font>)</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L51869" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">zvars := xvars1 union lvars;</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" hide-output="false" labelreference="L53158" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Amat,f_vec := GenerateMatrix(dae_sys1,diff(zvars,t)): 
Amat,&lt;diff(zvars,t)&gt; = f_vec:

combine(simplify(f_vec[-2..-1])):
PPhi:
</Font><Font foreground="[120,0,14]">Dimensions(Amat);
nops(zvars);
nops(PPhi);</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" hide-output="false" labelreference="L53153" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Mass matrix: 
please note that mass matrix is  <Font underline="true">not</Font> singular.</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L51818" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Mmat := Amat[nx1+1..nx1+nops(q_vars),nx1+1..nx1+nops(q_vars)]:</Font></Text-field>
</Input>
</Group>
<Group labelreference="L51819" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Extract Jacobian of constraints: </Font></Text-field>
</Input>
</Group>
<Group hide-input="false" hide-output="false" labelreference="L51879" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Phi_qTe, Bvec := GenerateMatrix(convert(-1*f_vec[nx1+1..nx1+nops(q_vars)],list),lvars):
</Font></Text-field>
</Input>
</Group>
<Group labelreference="L51883" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Inverse of mass matrix</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" hide-output="false" labelreference="L51886" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">#MmatInv := simplify(MatrixInverse(Mmat),trig);</Font></Text-field>
</Input>
</Group></Presentation-Block>
<Group labelreference="L51749" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L51750" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYmLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy9GQlEuWzE1MywxNTMsMTUzXUYnRkkvRlhRJ25vcm1hbEYn">JSFH</Equation></Text-field>
</Input>
</Group>
<Group labelreference="L52146" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYmLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy9GQlEuWzE1MywxNTMsMTUzXUYnRkkvRlhRJ25vcm1hbEYn">JSFH</Equation></Text-field>
</Input>
</Group>
<Group labelreference="L52147" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYmLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy9GQlEuWzE1MywxNTMsMTUzXUYnRkkvRlhRJ25vcm1hbEYn">JSFH</Equation></Text-field>
</Input>
</Group>
<Group labelreference="L52158" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYmLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy9GQlEuWzE1MywxNTMsMTUzXUYnRkkvRlhRJ25vcm1hbEYn">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJw==</Equation></Text-field>
</Input>
</Group>
<Group labelreference="L52177" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Explicit solution of Inverse  dynamics  solution: 
we get two algebraic variables (motor torques) and 1 ode to be solved numerically</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L52164" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">inv_dyn_eqns:</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L52167" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYrLUkjbWlHRiQ2JlEtaW52X2R5bl9lcW5zRicvJSdpdGFsaWNHUSV0cnVlRicvJStmb3JlZ3JvdW5kR1EuWzE1MywxNTMsMTUzXUYnLyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy1JKG1mZW5jZWRHRiQ2Jy1GIzYmLUkjbW5HRiQ2JVEiMUYnRjIvRjZRJ25vcm1hbEYnRjIvJStleGVjdXRhYmxlR1EmZmFsc2VGJ0ZBRjJGQS8lJW9wZW5HUSJbRicvJSZjbG9zZUdRIl1GJy1GLDY1USFGJy8lJ2ZhbWlseUdRKERFRkFVTFRGJy8lJXNpemVHUSMxM0YnLyUlYm9sZEdGRUYvLyUqdW5kZXJsaW5lR0ZFLyUqc3Vic2NyaXB0R0ZFLyUsc3VwZXJzY3JpcHRHRkUvRjNRKFswLDAsMF1GJy8lK2JhY2tncm91bmRHUS5bMjU1LDI1NSwyNTVdRicvJSdvcGFxdWVHRkVGQy8lKXJlYWRvbmx5R0ZFLyUpY29tcG9zZWRHRkUvJSpjb252ZXJ0ZWRHRkUvJStpbXNlbGVjdGVkR0ZFLyUscGxhY2Vob2xkZXJHRkUvJTZzZWxlY3Rpb24tcGxhY2Vob2xkZXJHRkVGNS1JJ21zcGFjZUdGJDYmLyUnaGVpZ2h0R1EmMC4wZXhGJy8lJndpZHRoR1EmMC4wZW1GJy8lJmRlcHRoR0ZfcC8lKmxpbmVicmVha0dRKG5ld2xpbmVGJy1GW3A2JkZdcEZgcEZjcC9GZnBRJWF1dG9GJ0ZMRjJGQ0ZB">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYrLUkjbWlHRiQ2JlEtaW52X2R5bl9lcW5zRicvJSdpdGFsaWNHUSV0cnVlRicvJStmb3JlZ3JvdW5kR1EuWzE1MywxNTMsMTUzXUYnLyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy1JKG1mZW5jZWRHRiQ2Jy1GIzYmLUkjbW5HRiQ2JVEiMUYnRjIvRjZRJ25vcm1hbEYnRjIvJStleGVjdXRhYmxlR1EmZmFsc2VGJ0ZBRjJGQS8lJW9wZW5HUSJbRicvJSZjbG9zZUdRIl1GJy1GLDY1USFGJy8lJ2ZhbWlseUdRKERFRkFVTFRGJy8lJXNpemVHUSMxM0YnLyUlYm9sZEdGRUYvLyUqdW5kZXJsaW5lR0ZFLyUqc3Vic2NyaXB0R0ZFLyUsc3VwZXJzY3JpcHRHRkUvRjNRKFswLDAsMF1GJy8lK2JhY2tncm91bmRHUS5bMjU1LDI1NSwyNTVdRicvJSdvcGFxdWVHRkVGQy8lKXJlYWRvbmx5R0ZFLyUpY29tcG9zZWRHRkUvJSpjb252ZXJ0ZWRHRkUvJStpbXNlbGVjdGVkR0ZFLyUscGxhY2Vob2xkZXJHRkUvJTZzZWxlY3Rpb24tcGxhY2Vob2xkZXJHRkVGNS1JJ21zcGFjZUdGJDYmLyUnaGVpZ2h0R1EmMC4wZXhGJy8lJndpZHRoR1EmMC4wZW1GJy8lJmRlcHRoR0ZfcC8lKmxpbmVicmVha0dRKG5ld2xpbmVGJy1GW3A2JkZdcEZgcEZjcC9GZnBRJWF1dG9GJ0ZMRjJGQ0ZB</Equation></Text-field>
</Input>
</Group>
<Group labelreference="L52160" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">fsolve(subs(inertias, masses, data, inv_dyn_eqns))</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L52161" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYnLUkjbWlHRiQ2JlElZGlmZkYnLyUnaXRhbGljR1EldHJ1ZUYnLyUrZm9yZWdyb3VuZEdRLlsxNTMsMTUzLDE1M11GJy8lLG1hdGh2YXJpYW50R1EnaXRhbGljRictSShtZmVuY2VkR0YkNiUtRiM2Ky1GLDYmUSJzRidGL0YyRjUtRjk2JS1GIzYmLUYsNiZRInRGJ0YvRjJGNUYyLyUrZXhlY3V0YWJsZUdRJmZhbHNlRicvRjZRJ25vcm1hbEYnRjJGSi1JI21vR0YkNi5RIixGJ0YyRkovJSZmZW5jZUdGSS8lKnNlcGFyYXRvckdGMS8lKXN0cmV0Y2h5R0ZJLyUqc3ltbWV0cmljR0ZJLyUobGFyZ2VvcEdGSS8lLm1vdmFibGVsaW1pdHNHRkkvJSdhY2NlbnRHRkkvJSdsc3BhY2VHUSYwLjBlbUYnLyUncnNwYWNlR1EsMC4zMzMzMzMzZW1GJ0ZERkxGREYyRkdGSkYyRkpGMkZHRko=">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYnLUkjbWlHRiQ2JlElZGlmZkYnLyUnaXRhbGljR1EldHJ1ZUYnLyUrZm9yZWdyb3VuZEdRLlsxNTMsMTUzLDE1M11GJy8lLG1hdGh2YXJpYW50R1EnaXRhbGljRictSShtZmVuY2VkR0YkNiUtRiM2Ky1GLDYmUSJzRidGL0YyRjUtRjk2JS1GIzYmLUYsNiZRInRGJ0YvRjJGNUYyLyUrZXhlY3V0YWJsZUdRJmZhbHNlRicvRjZRJ25vcm1hbEYnRjJGSi1JI21vR0YkNi5RIixGJ0YyRkovJSZmZW5jZUdGSS8lKnNlcGFyYXRvckdGMS8lKXN0cmV0Y2h5R0ZJLyUqc3ltbWV0cmljR0ZJLyUobGFyZ2VvcEdGSS8lLm1vdmFibGVsaW1pdHNHRkkvJSdhY2NlbnRHRkkvJSdsc3BhY2VHUSYwLjBlbUYnLyUncnNwYWNlR1EsMC4zMzMzMzMzZW1GJ0ZERkxGREYyRkdGSkYyRkpGMkZHRko=</Equation></Text-field>
</Input>
</Group>
<Group labelreference="L52178" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">tmp:=subs({diff(s(t),t,t)=s_vel,diff(theta1(t),t,t)=theta1_vel,diff(theta2(t),t,t)=theta2_vel,diff(theta4(t),t,t)=theta4_vel,diff(theta5(t),t,t)=theta5_vel,diff(theta6(t),t,t)=theta6_vel ,  c1(t)=c1, c5(t)=c5, c6(t)=c6, prism(t)=prism, lambda1(t)=lambda1, lambda2(t)=lambda2},  inv_dyn_eqns):</Font></Text-field>
</Input>
</Group>
<Group labelreference="L52162" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYmLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy9GQlEuWzE1MywxNTMsMTUzXUYnRkkvRlhRJ25vcm1hbEYn">LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYjLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJw==</Equation></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L52168" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">tmp:=subs(inertias, masses, data, {diff(s(t), t) = 0, diff(theta1(t),t) = 0.6251795553, diff(theta2(t),t) = 0.009341703440, diff(theta4(t),t) = 0.01091798590, diff(theta5(t),t) = 0.3125897776, diff(theta6(t),t) = 0.3763127379},  tmp):
tmp:=simplify(subs({theta2_vel=1,lambda1=10, lambda2=1}, {s(t)=0,theta1(t) = 0, theta2(t) = 0.3912390397, theta4(t) = 0.006780333653, theta5(t) = 0, theta6(t) = 0},tmp));
solve([op(tmp)],{c1,c5,c6, prism});
a:=fsolve(tmp);
</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L52165" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">{diff(s(t), t) = 0, diff(theta1(t),t) = 0.6251795553, diff(theta2(t),t) = 0.009341703440, diff(theta4(t),t) = 0.01091798590, diff(theta5(t),t) = 0.3125897776, diff(theta6(t),t) = 0.3763127379, theta1(t) = 0, theta2(t) = 0.3912390397, theta4(t) = 0.006780333653, theta5(t) = 0, theta6(t) = 0}</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L52154" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L52174" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font opaque="false" subscript="false" underline="false" superscript="false" bold="false" foreground="[153,153,153]" italic="false" executable="false" selection-placeholder="false" size="12" readonly="false" background="[255,255,255]" style="text-orange colored" placeholder="false" family="Times New Roman" font_style_name="text-orange colored">Integration of ode</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L52163" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">ics_theta3 := theta3(0)=0, D(theta3)(0)=0; # initial conditions</Font></Text-field>
</Input>
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">sol_inv_dyn_num :=fsolve( eval(subs(PPhi,data, masses, inertias, inv_dyn_eqns )),numeric);</Font></Text-field>
</Input>
</Group>
<Group labelreference="L52152" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Relative position and velocity of seat</Font></Text-field>
</Input>
</Group>
<Group labelreference="L52151" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">odeplot(sol_inv_dyn_num, [t,subs(Phi1,Phi2,data_rot,seat_rel_ang*180/Pi)],t=0..Tp,
        size   = [800,200],
<Font encoding="UTF-8">        title  = &quot;Seat angle relative to secondary link\134n&quot;,
</Font>        labels = [typeset(&quot;period [s]&quot;),typeset([deg])]);
odeplot(sol_inv_dyn_num, [t,subs(Phi1,Phi2,data_rot,seat_rel_vel*180/Pi)],t=0..Tp,
        size   = [800,200],
<Font encoding="UTF-8">        title  = &quot;Seat rotational velocity relative to secondary link\134n&quot;,
</Font>        labels = [typeset(&quot;period [s]&quot;),typeset([deg/s])]);</Font></Text-field>
</Input>
</Group>
<Group labelreference="L52149" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L52150" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Motor torques</Font></Text-field>
</Input>
</Group>
<Group labelreference="L52179" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">dualaxisplot(
   odeplot(sol_inv_dyn_num, [t,eval(subs(sol_inv_dyn,Phi1,Phi2,data,data_rot,sd_data,TM1(t)/1e6))],t=0..Tp,
           labels=[typeset(&quot;period [s]&quot;),typeset([N*1e6])],
           legend = TM__1,view=-3..3),
   odeplot(sol_inv_dyn_num, [t,eval(subs(sol_inv_dyn,Phi1,Phi2,data,data_rot,sd_data,TM2(t)/1e5))],t=0..Tp,
           legend = TM__2,color=c_set[2],view=-3..3,
           labels=[typeset(&quot;period [s]&quot;),typeset([N*1e5])],
           axis[2]=[color=c_set[2]]),
<Font encoding="UTF-8">           title = &quot;Motor torques\134n&quot;);</Font></Font></Text-field>
</Input>
</Group>
<Group labelreference="L52175" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" foreground="[153,153,153]" layout="Heading 3"><Font foreground="[153,153,153]">Direct dynamics</Font></Text-field>
</Input>
</Group>
<Group labelreference="L52176" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Heading 3" foreground="[153,153,153]" layout="Heading 3"><Font foreground="[153,153,153]">Initial conditions</Font></Text-field>
</Input>
</Group>
<Group labelreference="L52157" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Initial conditions for known variables</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L52156" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">ics0   := {Phi1,Phi2,theta3(t)=0};
D_ics0 := {seq(diff(lhs(ics0[i]),t) = diff(rhs(ics0[i]),t),i=1..nops(ics0))};</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L52153" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">  ics := eval(subs(t=0,ics0));
D_ics := eval(subs(t=0,data_rot,convert(D_ics0,D)));</Font></Text-field>
</Input>
</Group>
<Group labelreference="L52170" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Integration of DAE index-1</Font></Text-field>
</Input>
</Group>
<Group labelreference="L52173" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Rehonomous constarint equations are added to the system of equations obtained with Lagrange approach</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L52172" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">sys := {op(subs(data,data_rot, sd_data, <Font opaque="true" background="[255,255,0]">dae_eqns  union Phi</Font>))}:
dyna_sol := dsolve(  sys union ics union D_ics, numeric);</Font></Text-field>
</Input>
</Group>
<Group hide-input="false" labelreference="L52169" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">odeplot(dyna_sol, [t,subs(Phi1,Phi2,data_rot,seat_rel_ang*180/Pi)],t=0..Tp,
        size   = [800,200],
<Font encoding="UTF-8">        title  = &quot;Seat angle relative to secondary link\134n&quot;,
</Font>        labels = [typeset(&quot;period [s]&quot;),typeset([deg])]);
odeplot(dyna_sol, [t,subs(Phi1,Phi2,data_rot,seat_rel_vel*180/Pi)],t=0..Tp,
        size   = [800,200],
<Font encoding="UTF-8">        title  = &quot;Seat rotational velocity relative to secondary link\134n&quot;,
</Font>        labels = [typeset(&quot;period [s]&quot;),typeset([deg/s])]);

dualaxisplot(
   odeplot(dyna_sol, [t,eval(subs(sol_inv_dyn,Phi1,Phi2,data,data_rot,sd_data,TM1(t)/1e6))],t=0..Tp,
           labels=[typeset(&quot;period [s]&quot;),typeset([N*1e6])],
           legend = TM__1,view=-3..3),
   odeplot(dyna_sol, [t,eval(subs(sol_inv_dyn,Phi1,Phi2,data,data_rot,sd_data,TM2(t)/1e5))],t=0..Tp,
           legend = TM__2,color=c_set[2],view=-3..3,
           labels=[typeset(&quot;period [s]&quot;),typeset([N*1e5])],
           axis[2]=[color=c_set[2]]),
<Font encoding="UTF-8">           title = &quot;Motor torques\134n&quot;);</Font></Font></Text-field>
</Input>
</Group>
<Group labelreference="L52155" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">Describe(power);</Font></Text-field>
</Input>
</Group>
<Group labelreference="L52171" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Font foreground="[153,153,153]">odeplot(dyna_sol,[[t,eval(subs(Phi1,Phi2,data,data_rot,power(motor_1)))/1e3],
                  [t,eval(subs(Phi1,Phi2,data,data_rot,power(motor_2)))/1e3]],t=0..Tp)</Font></Text-field>
</Input>
</Group><Presentation-Block>
<Group view="presentation" inline-output="false" labelreference="L52166" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" foreground="[153,153,153]" layout="Normal"><Equation executable="true" style="2D Math" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYmLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy9GQlEuWzE1MywxNTMsMTUzXUYnRkkvRlhRJ25vcm1hbEYn">JSFH</Equation></Text-field>
</Input>
</Group></Presentation-Block><Presentation-Block>
<Group view="code" labelreference="L52159" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Equation executable="true" style="2D Math" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYmLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy9GQlEuWzE1MywxNTMsMTUzXUYnRkkvRlhRJ25vcm1hbEYn">JSFH</Equation></Text-field>
</Input>
</Group></Presentation-Block>
<Group labelreference="L52148" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" foreground="[153,153,153]" layout="Normal"><Equation executable="true" style="2D Input" input-equation="" display="LUklbXJvd0c2Iy9JK21vZHVsZW5hbWVHNiJJLFR5cGVzZXR0aW5nR0koX3N5c2xpYkdGJzYmLUkjbWlHRiQ2NVEhRicvJSdmYW1pbHlHUShERUZBVUxURicvJSVzaXplR1EjMTNGJy8lJWJvbGRHUSZmYWxzZUYnLyUnaXRhbGljR1EldHJ1ZUYnLyUqdW5kZXJsaW5lR0Y3LyUqc3Vic2NyaXB0R0Y3LyUsc3VwZXJzY3JpcHRHRjcvJStmb3JlZ3JvdW5kR1EoWzAsMCwwXUYnLyUrYmFja2dyb3VuZEdRLlsyNTUsMjU1LDI1NV1GJy8lJ29wYXF1ZUdGNy8lK2V4ZWN1dGFibGVHRjcvJSlyZWFkb25seUdGNy8lKWNvbXBvc2VkR0Y3LyUqY29udmVydGVkR0Y3LyUraW1zZWxlY3RlZEdGNy8lLHBsYWNlaG9sZGVyR0Y3LyU2c2VsZWN0aW9uLXBsYWNlaG9sZGVyR0Y3LyUsbWF0aHZhcmlhbnRHUSdpdGFsaWNGJy9GQlEuWzE1MywxNTMsMTUzXUYnRkkvRlhRJ25vcm1hbEYn">JSFH</Equation></Text-field>
</Input>
</Group>
</Section>
</Worksheet>